@using GreenBushIEP.Models
@model GreenBushIEP.Models.StudentDetailsViewModel

@{
    ViewBag.Title = "Edit a Student";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section stylesheets {
    @Styles.Render("~/Content/transition.css")
    @Styles.Render("~/Content/chosen.css")
    @Styles.Render("~/Content/jquery-ui.min.css")
    
}

<style>
    .btn-file {
        position: relative;
        overflow: hidden;
    }

        .btn-file input[type=file] {
            position: absolute;
            top: 0;
            right: 0;
            min-width: 100%;
            min-height: 100%;
            font-size: 100px;
            text-align: right;
            filter: alpha(opacity=0);
            opacity: 0;
            outline: none;
            background: white;
            cursor: inherit;
            display: block;
        }

    .btn-circle {
        width: 30px;
        height: 30px;
        text-align: center;
        padding: 6px 0;
        font-size: 12px;
        line-height: 1.428571429;
        border-radius: 15px;
        border-width: 1px;
    }

        .btn-circle:focus {
            outline: none;
        }

        .btn-circle.btn-lg {
            width: 50px;
            height: 50px;
            padding: 10px 16px;
            font-size: 18px;
            line-height: 1.33;
            border-radius: 25px;
            margin-bottom: 10px;
        }

        .btn-circle.btn-xl {
            width: 70px;
            height: 70px;
            padding: 10px 16px;
            font-size: 24px;
            line-height: 1.33;
            border-radius: 35px;
            margin-bottom: 10px;
        }

    .wizard {
        margin: 20px auto;
        background: #fff;
    }

        .wizard .nav-tabs {
            position: relative;
            margin-bottom: 0;
            border-bottom-color: #e0e0e0;
        }

        .wizard > div.wizard-inner {
            position: relative;
        }

    .connecting-line {
        height: 2px;
        background: #e0e0e0;
        position: absolute;
        width: 60%;
        margin: 0 auto;
        left: 0;
        right: 0;
        top: 50%;
        z-index: 1;
    }

    .wizard .nav-tabs > li.active > a, .wizard .nav-tabs > li.active > a:hover, .wizard .nav-tabs > li.active > a:focus {
        color: #555555;
        cursor: default;
        border: 0;
        border-bottom-color: transparent;
    }

    span.round-tab {
        width: 70px;
        height: 70px;
        line-height: 70px;
        display: inline-block;
        border-radius: 100px;
        background: #fff;
        border: 2px solid #e0e0e0;
        z-index: 2;
        position: absolute;
        left: 0;
        text-align: center;
        font-size: 25px;
    }

        span.round-tab i {
            color: #555555;
        }

    .wizard li.active span.round-tab {
        background: #fff;
        border: 2px solid #5bc0de;
    }

        .wizard li.active span.round-tab i {
            color: #5bc0de;
        }

    span.round-tab:hover {
        color: #333;
        border: 2px solid #333;
    }

    .wizard .nav-tabs > li {
        width: 33%;
    }

    .wizard li:after {
        content: " ";
        position: absolute;
        left: 46%;
        opacity: 0;
        margin: 0 auto;
        bottom: 0px;
        border: 5px solid transparent;
        border-bottom-color: #5bc0de;
        transition: 0.1s ease-in-out;
    }

    .wizard li.active:after {
        content: " ";
        position: absolute;
        left: 46%;
        opacity: 1;
        margin: 0 auto;
        bottom: 0px;
        border: 10px solid transparent;
        border-bottom-color: #5bc0de;
    }

    .wizard .nav-tabs > li a {
        width: 70px;
        height: 70px;
        margin: 20px auto;
        border-radius: 100%;
        padding: 0;
    }

        .wizard .nav-tabs > li a:hover {
            background: transparent;
        }

    .wizard .tab-pane {
        position: relative;
        padding-top: 20px;
    }

    .wizard h3 {
        margin-top: 0;
    }

    .step11 .row, .step33 row {
        padding-bottom: 6px;
    }

    .step22 .row {
        padding-bottom: 9px;
    }

    .step_21 {
        border: 1px solid #eee;
        border-radius: 5px;
    }

    .dropselectsec {
        width: 68%;
        padding: 6px 5px;
        border: 1px solid #ccc;
        border-radius: 3px;
        color: #333;
        margin-left: 10px;
        outline: none;
        font-weight: normal;
    }

    .dropselectsec1 {
        width: 74%;
        padding: 6px 5px;
        border: 1px solid #ccc;
        border-radius: 3px;
        color: #333;
        margin-left: 10px;
        outline: none;
        font-weight: normal;
    }

    .mar_ned {
        margin-bottom: 10px;
    }

    .wdth {
        width: 33%;
    }

    .birthdrop {
        padding: 6px 5px;
        border: 1px solid #ccc;
        border-radius: 3px;
        color: #333;
        margin-left: 10px;
        width: 16%;
        outline: 0;
        font-weight: normal;
    }


    /* according menu */
    #accordion-container {
        font-size: 13px;
    }

    .accordion-header {
        font-size: 13px;
        background: #ebebeb;
        margin: 5px 0 0;
        padding: 7px 20px;
        cursor: pointer;
        color: #fff;
        font-weight: 400;
        -moz-border-radius: 5px;
        -webkit-border-radius: 5px;
        border-radius: 5px;
    }

    .unselect_img {
        width: 18px;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }

    .active-header {
        -moz-border-radius: 5px 5px 0 0;
        -webkit-border-radius: 5px 5px 0 0;
        border-radius: 5px 5px 0 0;
        background: #F53B27;
    }

        .active-header:after {
            content: "\f068";
            font-family: 'FontAwesome';
            float: right;
            margin: 5px;
            font-weight: 400;
        }

    .inactive-header {
        background: #333;
    }

        .inactive-header:after {
            content: "\f067";
            font-family: 'FontAwesome';
            float: right;
            margin: 4px 5px;
            font-weight: 400;
        }

    .saveandcontinue {
        padding-top: 15px;
    }

        .saveandcontinue li button,
        .saveandcontinue li a {
            font-size: 18px;
            line-height: 1.3333333;
            padding: 10px 16px;
        }

    .search-choice span {
        line-height: 2.7;
        font-size: 14px;
    }

    li.search-field input[type="text"] {
        height: 49px !important;
    }

    .avatar {
        margin-bottom: 15px;
    }

    .contact-tooltip {
        border: 2px solid #9F6000;
    }

    .multiselect-container {
        position: absolute;
        list-style-type: none;
        margin: 0;
        padding: 0;
    }

        .multiselect-container .input-group {
            margin: 5px;
        }

        .multiselect-container > li {
            padding: 0;
        }

            .multiselect-container > li > a.multiselect-all label {
                font-weight: bold;
            }

            .multiselect-container > li > label.multiselect-group {
                margin: 0;
                padding: 3px 20px 3px 10px;
                height: 100%;
                font-weight: bold;
            }

            .multiselect-container > li > a > label {
                margin: 0;
                height: 100%;
                cursor: pointer;
                font-weight: normal;
            }

                .multiselect-container > li > a > label.radio,
                .multiselect-container > li > a > label.checkbox {
                    margin: 0;
                }

                .multiselect-container > li > a > label > input[type="checkbox"] {
                    margin-bottom: 5px;
                }

    .btn-group > .btn-group:nth-child(2) > .multiselect.btn {
        border-top-left-radius: 4px;
        border-bottom-left-radius: 4px;
    }

    .dropdown-menu > li > a {
        padding: 6px 40px;
    }

    .dropdown-toggle {
        padding: 10px 16px;
        font-size: 18px;
        line-height: 1.33;
        border-radius: 0; /* 6px; */
    }

    .dropdown-toggle {
        font-size: 14px;
        min-height: 49px;
    }

    #AddNewContact:hover {
        -webkit-animation: pulse 1s ease 0s;
        -o-animation: pulse 1s ease 0s;
        -moz-animation: pulse 1s ease 0s;
        animation: pulse 1s ease 0s;
    }

    .remove-contact {
        position: relative;
        top: 25px;
        left: 15px;
    }

    .onoffswitch1 {
        position: relative;
        width: 110px;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
    }

    .onoffswitch1-checkbox {
        display: none;
    }

    .onoffswitch1-label {
        display: block;
        overflow: hidden;
        cursor: pointer;
        border: 2px solid #999999;
        border-radius: 30px;
    }

    .onoffswitch1-inner {
        display: block;
        width: 200%;
        margin-left: -100%;
        -moz-transition: margin 0.3s ease-in 0s;
        -webkit-transition: margin 0.3s ease-in 0s;
        -o-transition: margin 0.3s ease-in 0s;
        transition: margin 0.3s ease-in 0s;
    }

        .onoffswitch1-inner:before, .onoffswitch1-inner:after {
            display: block;
            float: left;
            width: 50%;
            height: 45px;
            padding: 0;
            line-height: 45px;
            font-size: 14px;
            color: white;
            font-family: Trebuchet, Arial, sans-serif;
            font-weight: bold;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            border-radius: 45px;
            box-shadow: 0px 15px 0px rgba(0,0,0,0.08) inset;
        }

        .onoffswitch1-inner:before {
            content: "Female";
            padding-left: 10px;
            background-color: #ffb6c1;
            color: #FFFFFF;
            border-radius: 45px 0 0 45px;
        }

        .onoffswitch1-inner:after {
            content: "Male";
            padding-right: 10px;
            background-color: #2FCCFF;
            color: #FFFFFF;
            text-align: right;
            border-radius: 0 45px 45px 0;
        }

    .onoffswitch1-switch {
        display: block;
        width: 30px;
        margin: 0px;
        background: #FFFFFF;
        border: 2px solid #999999;
        border-radius: 30px;
        position: absolute;
        top: 0;
        bottom: 0;
        right: 80px;
        -moz-transition: all 0.3s ease-in 0s;
        -webkit-transition: all 0.3s ease-in 0s;
        -o-transition: all 0.3s ease-in 0s;
        transition: all 0.3s ease-in 0s;
        background-image: -moz-linear-gradient(center top, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 80%);
        background-image: -webkit-linear-gradient(center top, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 80%);
        background-image: -o-linear-gradient(center top, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 80%);
        background-image: linear-gradient(center top, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 80%);
        box-shadow: 0 1px 1px white inset;
    }

    .onoffswitch1-checkbox:checked + .onoffswitch1-label .onoffswitch1-inner {
        margin-left: 0;
    }

    .onoffswitch1-checkbox:checked + .onoffswitch1-label .onoffswitch1-switch {
        right: 0px;
    }

    @@media( max-width : 585px ) {

        .wizard {
            width: 90%;
            height: auto !important;
        }

        span.round-tab {
            font-size: 16px;
            width: 50px;
            height: 50px;
            line-height: 50px;
        }

        .wizard .nav-tabs > li a {
            width: 50px;
            height: 50px;
            line-height: 50px;
        }

        .wizard li.active:after {
            content: " ";
            position: absolute;
            left: 35%;
        }

        .add-contact {
            position: relative;
            top: -40px;
        }
    }

    @@-webkit-keyframes pulse {
        0% {
            -webkit-transform: scale(1);
        }

        50% {
            -webkit-transform: scale(1.2);
        }

        100% {
            -webkit-transform: scale(1);
        }
    }

    @@-o-keyframes pulse {
        0% {
            -o-transform: scale(1);
        }

        50% {
            -o-transform: scale(1.2);
        }

        100% {
            -o-transform: scale(1);
        }
    }

    @@-moz-keyframes pulse {
        0% {
            -moz-transform: scale(1);
        }

        50% {
            -moz-transform: scale(1.2);
        }

        100% {
            -moz-transform: scale(1);
        }
    }

    @@keyframes pulse {
        0% {
            transform: scale(1);
        }

        50% {
            transform: scale(1.2);
        }

        100% {
            transform: scale(1);
        }
    }
</style>

<div class="container">
    <div class="row">
        <div class="col-md-10">
            <ul class="breadcrumb" style="margin-top: 18px;">
                <li>@Html.ActionLink((string)(ViewBag.RoleName + " Portal").ToString(), "Portal", "Home", null, new { style = "font-size: 30px;", data_ftrans = "slide reverse ", data_ajax = "false" })</li>
                <li class="active" style="font-size: 20px;">@ViewBag.Title</li>
            </ul>
        </div>
        <div class="col-md-2 pull-right">
            @Html.ActionLink(" ", "Portal", "Home", null, new { id = "backtoportal", title = "Cancel action and go back to my current users list", role = "button", @class = "glyphicon glyphicon-remove btn btn-info pull-right", data_ftrans = "slide reverse ", data_ajax = "false", style = "margin-top:20px; margin-bottom:10px;font-size:20px;font-weight:bold;" })
        </div>
    </div>
    <div class="row">
        <section>
            <div class="wizard">
                <div class="wizard-inner">
                    <div class="connecting-line"></div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" class="active">
                            <a href="#step1" data-toggle="tab" aria-controls="step2" role="tab" title="Step 1">
                                <span class="round-tab">
                                    <i class="fa fa-child"></i>
                                </span>
                            </a>
                        </li>
                        <li role="presentation">
                            <a href="#step2" data-toggle="tab" aria-controls="step3" role="tab" title="Step 2">
                                <span class="round-tab">
                                    <i class="glyphicon glyphicon-home"></i>
                                </span>
                            </a>
                        </li>
                        <li role="presentation">
                            <a href="#complete" data-toggle="tab" aria-controls="complete" role="tab" title="Complete">
                                <span class="round-tab">
                                    <i class="glyphicon glyphicon-ok"></i>
                                </span>
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="tab-content">
                    <div class="tab-pane active" role="tabpanel" id="step1">
                        @using (Html.BeginForm("EditStudent", "Manage", null, FormMethod.Post, new { id = "editStudent", @class = "editstudent", onsubmit = "return false;" }))
                        {
                            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                            @Html.Hidden("id", Model.student.UserID)

                            <div class="step11">
                                <div class="row">
                                    <div class="col-md-6">
                                        <label for="kidsid">KIDS ID</label>
                                        @Html.EditorFor(model => model.student.KidsID, new { htmlAttributes = new { @class = "form-control", id = "kidsid", Name = "kidsid", placeholder = "Kansas ID number", pattern = "[0-9]*", type = "number", maxLength = "10", oninput = "javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);", data_validate = "true" } })
                                        @Html.ValidationMessageFor(model => model.student.KidsID, "", new { @class = "text-danger" })
                                    </div>
                                    <div class="col-md-6">
                                        <div class="bootstrap-iso">
                                            <div class="container-fluid">
                                                <div class="row">
                                                    <label class="control-label" for="dob">Date of Birth</label>
                                                    <input type="text" id="dob" name="dob" style="height:35px;z-index: 99999" class="form-control studentDOB" placeholder="MM/dd/YYYY  e.g. 08/25/1977" value="@(Model.student.DateOfBirth.ToString("MM/dd/yyyy"))"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label for="firstname">First Name</label>
                                        @Html.EditorFor(model => model.student.FirstName, new { htmlAttributes = new { @class = "form-control", id = "firstname", Name = "firstname", placeholder = "Legal First Name", data_validate = "true" } })
                                        @Html.ValidationMessageFor(model => model.student.FirstName, "", new { @class = "text-danger" })
                                    </div>
                                    <div class="col-md-6">
                                        <label for="lastname">Last Name</label>
                                        @Html.EditorFor(model => model.student.LastName, new { htmlAttributes = new { @class = "form-control", id = "lastname", Name = "lastname", placeholder = "Legal Last Name", data_validate = "true" } })
                                        @Html.ValidationMessageFor(model => model.student.LastName, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label for="email">Email</label>
                                        @Html.EditorFor(model => model.student.Email, new { htmlAttributes = new { @class = "form-control", id = "email", Name = "email", placeholder = "User email" } })
                                        @Html.ValidationMessageFor(model => model.student.Email, "", new { @class = "text-danger" })
                                    </div>
                                    <div class="col-md-6">
                                        <label for="misDistrict">District</label>
                                        <select name="misDistrict" class="form-control chosen-select" data-placeholder="Choose a district..." id="misDistrict" multiple="multiple" style="min-height: 49px; display: none;" data-validate="true">
                                            @if (Model.districts != null)
                                            {
                                                foreach (var district in Model.districts)
                                                {
                                                    string selected = Model.selectedDistrict.Contains(district) ? "selected=selected" : "";
                                                    <option value="@district.USD" @selected>@district.DistrictName</option>
                                                }
                                            }
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label>Building Assignment</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-2">
                                        <div class="btn-group">
                                            Neighborhood Building
                                        </div>
                                    </div>
                                    <div class="col-md-10">
                                        <select id="NeighborhoodBuildingID" name="NeighborhoodBuildingID" class="list-group form-control studentBuilding" data-validate="true">
                                            <option value="">Select Building</option>
                                            @if (Model.buildings != null)
                                            {
                                                foreach (var building in Model.buildings)
                                                {
                                                    string selected = Model.info.NeighborhoodBuildingID == building.BuildingID ? "selected" : "";
                                                    <option value="@building.BuildingID" @selected>@building.BuildingName</option>
                                                }
                                            }
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-2">
                                        <div class="btn-group">
                                            Attendance/Service Location
                                        </div>
                                    </div>
                                    <div class="col-md-10">
                                        <select id="AttendanceBuildingId" name="AttendanceBuildingId" class="list-group form-control studentBuilding" data-validate="true">
                                            <option value="">Select Building</option>
                                            @if (Model.buildings != null)
                                            {
                                                foreach (var building2 in Model.buildings)
                                                {
                                                    string selected = Model.info.BuildingID == building2.BuildingID ? "selected=selected" : "";
                                                    <option value="@building2.BuildingID" @selected>@building2.BuildingName</option>
                                                }
                                            }

                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-2">
                                        <label>Hispanic Ethnicity</label>
                                        <select class="form-control" name="ethnic" id="ethnic">
                                            <option value="">Select</option>
                                            <option value="Y" selected=@(Model.info.Ethicity == "Y")>Hispanic/Latino</option>
                                            <option value="N" selected=@(Model.info.Ethicity == "N")>Not Hispanic/Latino</option>
                                        </select>
                                    </div>
                                    <div class="col-md-2">
                                        <label>Student Race</label>
                                        <select class="form-control" name="race" id="race">
                                            <option value="White" selected=@(Model.info.Race == "White")>White</option>
                                            <option value="Hawaiian" selected=@(Model.info.Race == "Hawaiian")>Native Hawaiian or Other Pacific Islander</option>
                                            <option value="Asian" selected=@(Model.info.Race == "Asian")>Asian</option>
                                            <option value="African American" selected=@(Model.info.Race == "African American")>Black or African American</option>
                                            <option value="Native America" selected=@(Model.info.Race == "Native America")>American Indian or Alaska Native</option>
                                        </select>
                                    </div>
                                    <div class="col-md-2">
                                        <label>Student Language</label>
                                        <select class="form-control" name="studentLanguage" id="studentLanguage">
                                            <option value="EN" selected=@(Model.info.StudentLanguage == "EN")>EN - English</option>
                                            <option value="ES" selected=@(Model.info.StudentLanguage == "ES")>ES - Spanish</option>
                                            <option value="DE" selected=@(Model.info.StudentLanguage == "DE")>DE - German</option>
                                            <option value="FR" selected=@(Model.info.StudentLanguage== "FR")>FR - French</option>
                                            <option value="RU" selected=@(Model.info.StudentLanguage== "RU")>RU - Russian</option>
                                            <option value="A" selected=@(Model.info.StudentLanguage== "A")>A - Augmentative Communication</option>
                                            <option value="AR" selected=@(Model.info.StudentLanguage== "AR")>AR - Arabic</option>
                                            <option value="DIN" selected=@(Model.info.StudentLanguage== "DIN")>DIN - Dinka (Sudanese)</option>
                                            <option value="HMN" selected=@(Model.info.StudentLanguage== "HMN")>HMN - Hmong</option>
                                            <option value="IRA" selected=@(Model.info.StudentLanguage== "IRA")>IRA - Farsi(Iranian)</option>
                                            <option value="KHMR" selected=@(Model.info.StudentLanguage== "KHMR")>KHMR - Khmen / Cambodian</option>
                                            <option value="KO" selected=@(Model.info.StudentLanguage== "KO")>KO - Korean</option>
                                            <option value="LO" selected=@(Model.info.StudentLanguage== "LO")>LO - Lao</option>
                                            <option value="M" selected=@(Model.info.StudentLanguage == "M")>M - Mode of Communication</option>
                                            <option value="NAT-AM" selected=@(Model.info.StudentLanguage == "NAT-AM")>NAT-AM - Navtive America (kickapoo, Pottawatomie, ect)</option>
                                            <option value="N" selected=@(Model.info.StudentLanguage == "N")>N - Non-Verbal and Non-Sign</option>
                                            <option value="O" selected=@(Model.info.StudentLanguage == "O")>O - Other</option>
                                            <option value="PH" selected=@(Model.info.StudentLanguage == "PH")>PH - Phllippine - Tagalog</option>
                                            <option value="SO" selected=@(Model.info.StudentLanguage == "SO")>SO - Somali</option>
                                            <option value="TH" selected=@(Model.info.StudentLanguage == "TH")>TH - Thai</option>
                                            <option value="VI" selected=@(Model.info.StudentLanguage == "VI")>VI - Vietnamese</option>
                                            <option value="YU" selected=@(Model.info.StudentLanguage == "YU")>YU - Yugoslavian, Croatian, Bosnian, Serb</option>
                                            <option value="ZH-ZH-CMN" selected=@(Model.info.StudentLanguage == "ZH-ZH-CMN")>ZH-ZH-CMN - Mandarin</option>
                                            <option value="ZH-YUE" selected=@(Model.info.StudentLanguage == "ZH-YUE")>ZH-YUE - Cantonese</option>
                                            <option value="ZH-WUU" selected=@(Model.info.StudentLanguage == "ZH-WUU")>ZH-WUU - Wu</option>
                                        </select>
                                    </div>
                                    <div class="col-md-2">
                                        <label>Parents Language</label>
                                        <select class="form-control" name="parentLanguage" id="parentLanguage">
                                            <option value="EN" selected=@(Model.info.ParentLanguage == "EN")>EN - English</option>
                                            <option value="ES" selected=@(Model.info.ParentLanguage == "ES")>ES - Spanish</option>
                                            <option value="DE" selected=@(Model.info.ParentLanguage == "DE")>DE - German</option>
                                            <option value="FR" selected=@(Model.info.ParentLanguage== "FR")>FR - French</option>
                                            <option value="RU" selected=@(Model.info.ParentLanguage== "RU")>RU - Russian</option>
                                            <option value="A" selected=@(Model.info.ParentLanguage== "A")>A - Augmentative Communication</option>
                                            <option value="AR" selected=@(Model.info.ParentLanguage== "AR")>AR - Arabic</option>
                                            <option value="DIN" selected=@(Model.info.ParentLanguage== "DIN")>DIN - Dinka (Sudanese)</option>
                                            <option value="HMN" selected=@(Model.info.ParentLanguage== "HMN")>HMN - Hmong</option>
                                            <option value="IRA" selected=@(Model.info.ParentLanguage== "IRA")>IRA - Farsi(Iranian)</option>
                                            <option value="KHMR" selected=@(Model.info.ParentLanguage== "KHMR")>KHMR - Khmen / Cambodian</option>
                                            <option value="KO" selected=@(Model.info.ParentLanguage== "KO")>KO - Korean</option>
                                            <option value="LO" selected=@(Model.info.ParentLanguage== "LO")>LO - Lao</option>
                                            <option value="M" selected=@(Model.info.ParentLanguage == "M")>M - Mode of Communication</option>
                                            <option value="NAT-AM" selected=@(Model.info.ParentLanguage == "NAT-AM")>NAT-AM - Navtive America (kickapoo, Pottawatomie, ect)</option>
                                            <option value="N" selected=@(Model.info.ParentLanguage == "N")>N - Non-Verbal and Non-Sign</option>
                                            <option value="O" selected=@(Model.info.ParentLanguage == "O")>O - Other</option>
                                            <option value="PH" selected=@(Model.info.ParentLanguage == "PH")>PH - Phllippine - Tagalog</option>
                                            <option value="SO" selected=@(Model.info.ParentLanguage == "SO")>SO - Somali</option>
                                            <option value="TH" selected=@(Model.info.ParentLanguage == "TH")>TH - Thai</option>
                                            <option value="VI" selected=@(Model.info.ParentLanguage == "VI")>VI - Vietnamese</option>
                                            <option value="YU" selected=@(Model.info.ParentLanguage == "YU")>YU - Yugoslavian, Croatian, Bosnian, Serb</option>
                                            <option value="ZH-ZH-CMN" selected=@(Model.info.ParentLanguage == "ZH-ZH-CMN")>ZH-ZH-CMN - Mandarin</option>
                                            <option value="ZH-YUE" selected=@(Model.info.ParentLanguage == "ZH-YUE")>ZH-YUE - Cantonese</option>
                                            <option value="ZH-WUU" selected=@(Model.info.ParentLanguage == "ZH-WUU")>ZH-WUU - Wu</option>
                                        </select>
                                    </div>
                                    <div class="col-md-2">
                                        <label>Student Grade</label>
                                        <select class="form-control" name="studentGrade" id="studentGrade">
                                            <option value="0" selected="@(Model.info.Grade == 0)">Kindergarten</option>
                                            <option value="1" selected="@(Model.info.Grade == 1)">1st Grade</option>
                                            <option value="2" selected="@(Model.info.Grade == 2)">2nd Grade</option>
                                            <option value="3" selected="@(Model.info.Grade == 3)">3rd Grade</option>
                                            <option value="4" selected="@(Model.info.Grade == 4)">4th Grade</option>
                                            <option value="5" selected="@(Model.info.Grade == 5)">5th Grade</option>
                                            <option value="6" selected="@(Model.info.Grade == 6)">6th Grade</option>
                                            <option value="7" selected="@(Model.info.Grade == 7)">7th Grade</option>
                                            <option value="8" selected="@(Model.info.Grade == 8)">8th Grade</option>
                                            <option value="9" selected="@(Model.info.Grade == 9)">9th Grade</option>
                                            <option value="10" selected="@(Model.info.Grade == 10)">10th Grade</option>
                                            <option value="11" selected="@(Model.info.Grade == 11)">11th Grade</option>
                                            <option value="12" selected="@(Model.info.Grade == 12)">12th Grade</option>
                                            <option value="13" selected="@(Model.info.Grade == 13)">Other Option</option>
                                        </select>
                                    </div>
                                    <div class="col-md-2">
                                        <label>Gender</label>
                                        <div class="onoffswitch1">
                                            <input type="checkbox" name="gender" class="onoffswitch1-checkbox" id="gender" @(Model.info.Gender == "F" ? "checked" : "" ) />
                                            <label class="onoffswitch1-label" for="gender">
                                                <span class="onoffswitch1-inner"></span>
                                                <span class="onoffswitch1-switch"></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <ul class="list-inline pull-right saveandcontinue">
                                <li>@Html.ActionLink("Cancel", "Portal", "Home", null, new { role = "button", @class = "btn btn-default prev-step", data_ftrans = "slide reverse ", data_ajax = "false" })</li>
                                <li><button type="button" class="btn btn-info next-step" id="next4">Save and continue</button></li>
                            </ul>

                        }
                    </div>
                    <div class="tab-pane" role="tabpanel" id="step2">
                        <h4 style="font-size: 1.5em; margin-bottom: 1.5em;">Student Relationships</h4>
                        @using (Html.BeginForm("EditStudentContacts", "Manage", null, FormMethod.Post, new { id = "editStudentContacts", @class = "editstudent", onsubmit = "return false;" }))
                        {
                            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                            @Html.Hidden("id", Model.student.UserID)

                            if (Model.contacts != null)
                            {

                                <div class="step22" id="student-contacts">
                                    @foreach (var contact in Model.contacts)
                                    {
                                        <div class="student-contact">
                                            <div class="row">
                                                <div class="col-sm-4 nopadding">
                                                    <div class="form-group">
                                                        <label for="contactFirstName">First Name</label>
                                                        <input class="form-control text-box single-line text-box single-line valid" data-validate="true" id="contact[@(contact.RealtionshipID.ToString())].FirstName" name="contact[@(contact.RealtionshipID.ToString())].FirstName" placeholder="First Name" type="text" value="@(contact.FirstName)" aria-invalid="false">
                                                    </div>
                                                </div>
                                                <div class="col-sm-3 nopadding">
                                                    <div class="form-group">
                                                        <label>Middle Name</label>
                                                        <input class="form-control text-box single-line text-box single-line" id="contact[@(contact.RealtionshipID.ToString())].MiddleName" name="contact[@(contact.RealtionshipID.ToString())].MiddleName" placeholder="Middle Name" type="text" value="@(contact.MiddleName)">
                                                    </div>
                                                </div>
                                                <div class="col-sm-3 nopadding">
                                                    <div class="form-group">
                                                        <label>Last Name</label>
                                                        <input class="form-control text-box single-line text-box single-line valid" data-validate="true" id="contact[@(contact.RealtionshipID.ToString())].LastName" name="contact[@(contact.RealtionshipID.ToString())].LastName" placeholder="Last Name" type="text" value="@(contact.LastName)" aria-invalid="false">
                                                    </div>
                                                </div>
                                                <div class="col-sm-2 nopadding">
                                                    <div class="form-group">
                                                        <label>Relationship</label>
                                                        <select name="contact[@(contact.RealtionshipID.ToString())].Realtionship" class="form-control text-box single-line" data-validate="true">
                                                            <option value="parent" selected=@(contact.Realtionship == "parent")>Parent</option>
                                                            <option value="guardian" selected=@(contact.Realtionship == "guardian")>Guardian</option>
                                                            <option value="advocate" selected=@(contact.Realtionship == "advocate")>Education Advocate</option>
                                                            <option value="other" selected=@(contact.Realtionship == "other")>Other</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-4 nopadding">
                                                    <div class="form-group">
                                                        <label>Street Address</label>
                                                        <input class="form-control text-box single-line text-box single-line valid" data-validate="true" id="contact[@(contact.RealtionshipID.ToString())].Address1" name="contact[@(contact.RealtionshipID.ToString())].Address1" placeholder="Street Address" type="text" value="@(contact.Address1)" aria-invalid="false">
                                                    </div>
                                                </div>
                                                <div class="col-sm-3 nopadding">
                                                    <div class="form-group">
                                                        <label>Apt/Ste/Rm</label>
                                                        <input class="form-control text-box single-line text-box single-line valid" id="contact[@(contact.RealtionshipID.ToString())].Address2" name="contact[@(contact.RealtionshipID.ToString())].Address2" placeholder="Apartment/Suite/Room" type="text" value="@(contact.Address2)" aria-invalid="false">
                                                    </div>
                                                </div>
                                                <div class="col-sm-2 nopadding">
                                                    <div class="form-group">
                                                        <label>City</label>
                                                        <input class="form-control text-box single-line text-box single-line valid" id="contact[@(contact.RealtionshipID.ToString())].City" name="contact[@(contact.RealtionshipID.ToString())].City" placeholder="City" type="text" value="@(contact.City)" aria-invalid="false">
                                                    </div>
                                                </div>
                                                <div class="col-sm-1 nopadding">
                                                    <div class="form-group">
                                                        <label>State</label>
                                                        <select name="contact[@(contact.RealtionshipID.ToString())].ContactState" class="form-control text-box single-line" data-validate="true">
                                                            <option value="AL" selected=@(contact.State == "AL")>AL</option>
                                                            <option value="AK" selected=@(contact.State == "AK")>AK</option>
                                                            <option value="AZ" selected=@(contact.State == "AZ")>AZ</option>
                                                            <option value="AR" selected=@(contact.State == "AR")>AR</option>
                                                            <option value="CA" selected=@(contact.State == "CA")>CA</option>
                                                            <option value="CO" selected=@(contact.State == "CO")>CO</option>
                                                            <option value="CT" selected=@(contact.State == "CT")>CT</option>
                                                            <option value="DE" selected=@(contact.State == "DE")>DE</option>
                                                            <option value="DC" selected=@(contact.State == "DC")>DC</option>
                                                            <option value="FL" selected=@(contact.State == "FL")>FL</option>
                                                            <option value="GA" selected=@(contact.State == "GA")>GA</option>
                                                            <option value="HI" selected=@(contact.State == "HI")>HI</option>
                                                            <option value="ID" selected=@(contact.State == "ID")>ID</option>
                                                            <option value="IL" selected=@(contact.State == "IL")>IL</option>
                                                            <option value="IN" selected=@(contact.State == "IN")>IN</option>
                                                            <option value="IA" selected=@(contact.State == "IA")>IA</option>
                                                            <option value="KS" selected=@(contact.State == "KS")>KS</option>
                                                            <option value="KY" selected=@(contact.State == "KY")>KY</option>
                                                            <option value="LA" selected=@(contact.State == "LA")>LA</option>
                                                            <option value="ME" selected=@(contact.State == "ME")>ME</option>
                                                            <option value="MD" selected=@(contact.State == "MD")>MD</option>
                                                            <option value="MA" selected=@(contact.State == "MA")>MA</option>
                                                            <option value="MI" selected=@(contact.State == "MI")>MI</option>
                                                            <option value="MN" selected=@(contact.State == "MN")>MN</option>
                                                            <option value="MS" selected=@(contact.State == "MS")>MS</option>
                                                            <option value="MO" selected=@(contact.State == "MO")>MO</option>
                                                            <option value="MT" selected=@(contact.State == "MT")>MT</option>
                                                            <option value="NE" selected=@(contact.State == "NE")>NE</option>
                                                            <option value="NV" selected=@(contact.State == "NV")>NV</option>
                                                            <option value="NH" selected=@(contact.State == "NH")>NH</option>
                                                            <option value="NJ" selected=@(contact.State == "NJ")>NJ</option>
                                                            <option value="NM" selected=@(contact.State == "NM")>NM</option>
                                                            <option value="NY" selected=@(contact.State == "NY")>NY</option>
                                                            <option value="NC" selected=@(contact.State == "NC")>NC</option>
                                                            <option value="ND" selected=@(contact.State == "ND")>ND</option>
                                                            <option value="OH" selected=@(contact.State == "OH")>OH</option>
                                                            <option value="OK" selected=@(contact.State == "OK")>OK</option>
                                                            <option value="OR" selected=@(contact.State == "OR")>OR</option>
                                                            <option value="PA" selected=@(contact.State == "PA")>PA</option>
                                                            <option value="RI" selected=@(contact.State == "RI")>RI</option>
                                                            <option value="SC" selected=@(contact.State == "SC")>SC</option>
                                                            <option value="SD" selected=@(contact.State == "SD")>SD</option>
                                                            <option value="TN" selected=@(contact.State == "TN")>TN</option>
                                                            <option value="TX" selected=@(contact.State == "TX")>TX</option>
                                                            <option value="UT" selected=@(contact.State == "UT")>UT</option>
                                                            <option value="VT" selected=@(contact.State == "VT")>VT</option>
                                                            <option value="VA" selected=@(contact.State == "VA")>VA</option>
                                                            <option value="WA" selected=@(contact.State == "WA")>WA</option>
                                                            <option value="WV" selected=@(contact.State == "WV")>WV</option>
                                                            <option value="WI" selected=@(contact.State == "WI")>WI</option>
                                                            <option value="WY" selected=@(contact.State == "WY")>WY</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-sm-2 nopadding">
                                                    <div class="form-group">
                                                        <label>Zip Code</label>
                                                        <input class="form-control text-box single-line text-box single-line valid" data-validate="true" id="contact[@(contact.RealtionshipID.ToString())].Zip" name="contact[@(contact.RealtionshipID.ToString())].Zip" placeholder="Zip Code" type="text" value="@(contact.Zip)" aria-invalid="false">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row" style="margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px dotted #45906d;">
                                                <div class="col-sm-2 nopadding">
                                                    <div class="form-group">
                                                        <label>Phone Number</label>
                                                        <input class="form-control text-box single-line text-box single-line valid" id="contact[@(contact.RealtionshipID.ToString())].Phone" name="contact[@(contact.RealtionshipID.ToString())].Phone" pattern="\d{3}[-]\d{3}[-]\d{4}" placeholder="Phone Number" type="text" value="@(contact.Phone)" aria-invalid="false">
                                                    </div>
                                                </div>
                                                <div class="col-sm-4 nopadding">
                                                    <div class="form-group">
                                                        <label>Email</label>
                                                        <input class="form-control text-box single-line text-box single-line valid" id="contact[@(contact.RealtionshipID.ToString())].Email" name="contact[@(contact.RealtionshipID.ToString())].Email" placeholder="placeholder@gmail.com" pattern="[a-z0-9._%+-]+@("@")[a-z0-9.-]+\.[a-z]{2,4}$" type="text" value="@(contact.Email)" aria-invalid="false">
                                                    </div>
                                                </div>
                                                <div class="col-sm-2 nopadding">
                                                    <div class="form-group">
                                                        <input name="contact[@(contact.RealtionshipID.ToString())].PrimaryContact" type="checkbox" class="form-control text-box single-line" style="width: 15%; position: relative; top: 20px; height: 49px;" @(contact.PrimaryContact == 1 ? "checked" : "" ) />
                                                        <label style="float: left; position: relative; bottom: 15px; left: 20%;">Primary Contact</label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4 nopadding">
                                                    <div class="form-group">
                                                        <button class="btn-circle btn-lg pull-right remove-contact add-contact btn-danger"><i class="glyphicon glyphicon-minus"></i></button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                </div>
                                <div class="row">
                                    <div class="col-md-pull-10">
                                        <button class="btn-circle btn-lg btn-info pull-right add-contact"><i class="glyphicon glyphicon-plus"></i></button>
                                    </div>
                                </div>
                                <ul class="list-inline pull-right saveandcontinue" style="margin-bottom: 55px;">
                                    <li><button type="button" class="btn btn-default prev-step">Previous</button></li>
                                    <li><button type="button" class="btn btn-info next-step" id="next5">Save and continue</button></li>
                                </ul>

                            }
                        }
                    </div>
                    <div class="tab-pane" role="tabpanel" id="complete">
                        @using (Html.BeginForm("EditStudentAvatar", "Manage", null, FormMethod.Post, new { enctype = "multipart/form-data", onsubmit = "return false;" }))
                        {
                            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                            @Html.Hidden("id", Model.student.UserID)
                            if (Model.contacts != null)
                            {

                                <div class="step33">
                                    <div class="row">
                                        <div class="col-md-12 col-md-offset-5">
                                            <p style="font-size: 16px;"><sup>*</sup>Optional Student Avatar</p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12 col-md-offset-5">
                                            <img src="@(string.IsNullOrEmpty(Model.student.ImageURL) ? "/Content/Images/newUser.png" : "/Content/Images/Uploads/" + Model.student.ImageURL.ToString())" alt="" title="Student's Avatar if desired.'" class="img-circle pull-left avatar" height="100" id="avatarImage" />
                                            <div class="input-group">
                                                <span class="btn btn-default btn-file" style="top: 30px; left: 15px;">
                                                    Browse <input type="file" name="adminpersona" id="adminpersona" accept="image/gif, image/jpeg, image/png">
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12 col-md-offset-5">
                                            <ul class="list-inline">
                                                <li><button type="button" id="submitForm" class="btn btn-info btn-info-full" , data_ftrans="slide reverse" data_ajax="false" style="font-size: 18px;">Save Changes</button></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                            }
                        }

                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </section>
    </div>
</div>

<!-- loading the file even though it's an ajax call -->
<var data-reload="true" data-src="/Scripts/createstudent.js"></var>

<!-- student contact template file -->
<div id="contact-template" style="display: none;">
    <div class="row">
        <div class="col-sm-4 nopadding">
            <div class="form-group">
                <label>First Name</label>
                <input name="contact[#].ContactFirstName" class="form-control text-box single-line" placeholder="First Name" type="text" data-validate="true" />
            </div>
        </div>
        <div class="col-sm-3 nopadding">
            <div class="form-group">
                <label>Middle Name</label>
                <input name="contact[#].ContactMiddleName" class="form-control text-box single-line" placeholder="Middle Name" type="text" />
            </div>
        </div>
        <div class="col-sm-3 nopadding">
            <div class="form-group">
                <label>Last Name</label>
                <input name="contact[#].ContactLastName" class="form-control text-box single-line" placeholder="Last Name" type="text" data-validate="true" />
            </div>
        </div>
        <div class="col-sm-2 nopadding">
            <div class="form-group">
                <label>Relationship</label>
                <select name="contact[#].ContactRelationship" class="form-control text-box single-line" data-validate="true">
                    <option value="parent" selected="selected">Parent</option>
                    <option value="guardian">Guardian</option>
                    <option value="advocate">Education Advocate</option>
                    <option value="other">Other</option>
                </select>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-4 nopadding">
            <div class="form-group">
                <label>Street Address</label>
                <input name="contact[#].ContactStreetAddress1" class="form-control text-box single-line" id="ContacStreetAddress1" placeholder="Street Address" type="text" data-validate="true" />
            </div>
        </div>
        <div class="col-sm-3 nopadding">
            <div class="form-group">
                <label>Apt/Ste/Rm</label>
                <input name="contact[#].ContactStreetAddress2" class="form-control text-box single-line" id="ContactStreetAddress2" placeholder="Apartment/Suite/Room" type="text" />
            </div>
        </div>
        <div class="col-sm-2 nopadding">
            <div class="form-group">
                <label>City</label>
                <input name="contact[#].ContactCity" class="form-control text-box single-line" id="ContactCity" placeholder="Contact City" type="text" data-validate="true" />
            </div>
        </div>
        <div class="col-sm-1 nopadding">
            <div class="form-group">
                <label>State</label>
                <select name="contact[#].ContactState" class="form-control text-box single-line" data-validate="true">
                    <option value="AL">AL</option>
                    <option value="AK">AK</option>
                    <option value="AZ">AZ</option>
                    <option value="AR">AR</option>
                    <option value="CA">CA</option>
                    <option value="CO">CO</option>
                    <option value="CT">CT</option>
                    <option value="DE">DE</option>
                    <option value="DC">DC</option>
                    <option value="FL">FL</option>
                    <option value="GA">GA</option>
                    <option value="HI">HI</option>
                    <option value="ID">ID</option>
                    <option value="IL">IL</option>
                    <option value="IN">IN</option>
                    <option value="IA">IA</option>
                    <option value="KS" selected="selected">KS</option>
                    <option value="KY">KY</option>
                    <option value="LA">LA</option>
                    <option value="ME">ME</option>
                    <option value="MD">MD</option>
                    <option value="MA">MA</option>
                    <option value="MI">MI</option>
                    <option value="MN">MN</option>
                    <option value="MS">MS</option>
                    <option value="MO">MO</option>
                    <option value="MT">MT</option>
                    <option value="NE">NE</option>
                    <option value="NV">NV</option>
                    <option value="NH">NH</option>
                    <option value="NJ">NJ</option>
                    <option value="NM">NM</option>
                    <option value="NY">NY</option>
                    <option value="NC">NC</option>
                    <option value="ND">ND</option>
                    <option value="OH">OH</option>
                    <option value="OK">OK</option>
                    <option value="OR">OR</option>
                    <option value="PA">PA</option>
                    <option value="RI">RI</option>
                    <option value="SC">SC</option>
                    <option value="SD">SD</option>
                    <option value="TN">TN</option>
                    <option value="TX">TX</option>
                    <option value="UT">UT</option>
                    <option value="VT">VT</option>
                    <option value="VA">VA</option>
                    <option value="WA">WA</option>
                    <option value="WV">WV</option>
                    <option value="WI">WI</option>
                    <option value="WY">WY</option>
                </select>
            </div>
        </div>
        <div class="col-sm-2 nopadding">
            <div class="form-group">
                <label>Zip Code</label>
                <input name="contact[#].ContactZipCode" class="form-control text-box single-line" id="ContactZipCode" placeholder="Zip Code" type="number" pattern="(\d{5}([\-]\d{4})?)" data-validate="true" />
            </div>
        </div>
    </div>
    <div class="row" style="margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px dotted #45906d;">
        <div class="col-sm-2 nopadding">
            <div class="form-group">
                <label>Phone Number</label>
                <input name="contact[#].ContactPhoneNumber" type="tel" class="form-control text-box single-line" pattern="\d{3}[\-]\d{3}[\-]\d{4}" placeholder="Phone Number">
            </div>
        </div>
        <div class="col-sm-4 nopadding">
            <div class="form-group">
                <label>Email</label>
                <input name="contact[#].ContactEmail" type="email" class="form-control text-box single-line" value="" placeholder="placeholder@gmail.com" pattern="[a-z0-9._%+-]+@("@")[a-z0-9.-]+\.[a-z]{2,4}$" />
            </div>
        </div>
        <div class="col-sm-2 nopadding">
            <div class="form-group">
                <input name="contact[#].PrimaryContact" type="checkbox" class="form-control text-box single-line" style="width: 15%; position: relative; top: 20px; height: 49px;" />
                <label style="float: left; position: relative; bottom: 15px; left: 20%;">Primary Contact</label>
            </div>
        </div>
        <div class="col-sm-4 nopadding">
            <div class="form-group">
                <button class="btn-circle btn-lg btn-info pull-right contact-button remove-contact"><i class="glyphicon glyphicon-minus"></i></button>
            </div>
        </div>
    </div>
</div>


<script>
    function loadScript(url, callback) {
        // Adding the script tag to the head as suggested before
        var head = document.getElementsByTagName('head')[0];
        var script = document.createElement('script');
        script.type = 'text/javascript';
        script.src = url;

        // Then bind the event to the callback function.
        // There are several events for cross browser compatibility.
        script.onreadystatechange = callback;
        script.onload = callback;

        // Fire the loading
        head.appendChild(script);
    }

    //loadScript("/Scripts/createstudent.js", function () {
    //console.log("loaded");
    //});
</script>


@section scripts {
    @Scripts.Render("~/Scripts/bootstrap-mutliselect.js")
    @Scripts.Render("~/Scripts/fasw.transitions.js")
    @Scripts.Render("~/Scripts/jquery.maskedinput.min.js")
    @Scripts.Render("~/Scripts/createstudent.js")

}