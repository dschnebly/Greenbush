@using GreenBushIEP.Models
@model StudentTransitionViewModel

<style>
    .DOC {
        background-color: #ede;
        margin-bottom: 25px;
    }

        .DOC div {
            padding: 8px;
            margin: 8px;
        }

    .onoffswitch2 {
        position: relative;
        width: 90px;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
    }

    .onoffswitch2-checkbox {
        display: none;
    }

    .onoffswitch2-label {
        display: block;
        overflow: hidden;
        cursor: pointer;
        border: 2px solid #999999;
        border-radius: 5px;
    }

    .onoffswitch2-inner {
        display: block;
        width: 200%;
        margin-left: -100%;
        -moz-transition: margin 0.3s ease-in 0s;
        -webkit-transition: margin 0.3s ease-in 0s;
        -o-transition: margin 0.3s ease-in 0s;
        transition: margin 0.3s ease-in 0s;
    }

        .onoffswitch2-inner:before, .onoffswitch2-inner:after {
            display: block;
            float: left;
            width: 50%;
            height: 30px;
            padding: 0;
            line-height: 30px;
            font-size: 14px;
            color: white;
            font-family: Trebuchet, Arial, sans-serif;
            font-weight: bold;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        .onoffswitch2-inner:before {
            content: "YES";
            padding-left: 10px;
            background-color: #2FCCFF;
            color: #FFFFFF;
        }

        .onoffswitch2-inner:after {
            content: "NO";
            padding-right: 10px;
            background-color: #EEEEEE;
            color: #999999;
            text-align: right;
        }

    .onoffswitch2-switch {
        display: block;
        width: 18px;
        margin: 0px;
        background: #FFFFFF;
        border: 2px solid #999999;
        border-radius: 5px;
        position: absolute;
        top: 0;
        bottom: 0;
        right: 68px;
        -moz-transition: all 0.3s ease-in 0s;
        -webkit-transition: all 0.3s ease-in 0s;
        -o-transition: all 0.3s ease-in 0s;
        transition: all 0.3s ease-in 0s;
        background-image: -moz-linear-gradient(center top, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 100%);
        background-image: -webkit-linear-gradient(center top, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 100%);
        background-image: -o-linear-gradient(center top, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 100%);
        background-image: linear-gradient(center top, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 100%);
    }

    .onoffswitch2-checkbox:checked + .onoffswitch2-label .onoffswitch2-inner {
        margin-left: 0;
    }

    .onoffswitch2-checkbox:checked + .onoffswitch2-label .onoffswitch2-switch {
        right: 0px;
    }
</style>

<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal"><span class="glyphicon glyphicon-remove-circle" style="font-size: 30px;"></span></button>
    <button type="button" class="tooltip-help" data-toggle="tooltip" data-placement="bottom" title="Follow the tooltips to learn how to user this form"><span class="glyphicon glyphicon-question-sign" style="font-size: 30px;"></span></button>
    <h4 class="modal-title" style="font-size: 30px;">
        <i class="glyphicon glyphicon-random" aria-hidden="true" style="font-size: smaller; "></i>&nbsp;Student Transition
    </h4>
</div>
<div class="modal-body">

    <div class="row DOC @(!Model.isDOC ? "hidden" : String.Empty )">
        <div class="col-md-12">
            If a student is in a State adult correctional facility, the Secretary of the Department of Corrections (DOC) is obligated to make FAPE available according to an IEP
            that meets the requirements of federal and state laws and regulations for each student with a disability. However, the correctional institution or facility may modify
            the student's IEP or placement if it can demostrate a bona fide security or compelling penological interest that cannot otherwise
            be accmomodated. The following laws and regulations are not required for the students in adult correctional factilites:
            <ul>
                <li>participation of students in state or local assemssmentsl and &lt;needs to be a statement on the IEP&gt;</li>
                <li>
                    transitions planning and services with respect to an disabled student whose eligibility for special education services will end,
                    because of the student's age, before the student is eligible to be released from correctional facility based on consideration of the student's
                    sentence and elibiglty for early release.
                </li>
            </ul>
            <fieldset class="form-group">
                <label style="padding: 25px 0 15px;">Is the adult learner's Anticipated Release Date prior to their 21st birthday?</label>&nbsp;&nbsp;
                <div class="onoffswitch2" style="display: inline-block; vertical-align: middle;">
                    <input type="checkbox" name="isStudentBirthdayAgeOver21" id="isStudentBirthdayAgeOver21" class="onoffswitch2-checkbox">
                    <label class="onoffswitch2-label" for="isStudentBirthdayAgeOver21">
                        <span class="onoffswitch2-inner"></span>
                        <span class="onoffswitch2-switch"></span>
                    </label>
                </div>
            </fieldset>
        </div>
    </div>

    <div class="@(!Model.isDOC ? String.Empty : String.Empty )" id="studentBirthdayAgeOver21">
        <div class="row">
            <div class="col-md-12">

                <div>

                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab">Service</a></li>
                        <li role="presentation"><a href="#assessments" aria-controls="profile" role="tab" data-toggle="tab">Assessments</a></li>
                    </ul>

                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane fade in active" id="home">

                            <div class="row">
                                <div class="col-md-12">

                                    <h3>Statement of Courses of Study</h3>
                                    <p>
                                        @(Model.student.FirstName) @(Model.student.LastName) will work his primary implementer and counselor annually to enroll in he courses he needs for his course of study for coming school year.
                                        He/She and the IEP team have reviewd this course of study and transcript at this IEP meeting. These courses will meet the requirements of the school
                                        district and will be meaningful to his post secondary goal of working as an <input type="text" placeholder="technician, ect." />. The courses he/she is enrolled in for school year
                                        and those which he has taken have allow him/her to explore areas of high interest and determine the type of skils he/she will need for different career fields.
                                    </p>
                                    <fieldset class="form-group">
                                        <label style="padding: 5px 0 10px;">Do the transition courses of study focus on improving the academic and functional achievement of the child to faciliate their movement from school to post-school?</label>&nbsp;&nbsp;
                                        <div class="onoffswitch2" style="display: inline-block; vertical-align: middle;">
                                            <input type="checkbox" name="isFocusFunctionalAchievement" id="isFocusFunctionalAchievement" class="onoffswitch2-checkbox">
                                            <label class="onoffswitch2-label" for="isFocusFunctionalAchievement">
                                                <span class="onoffswitch2-inner"></span>
                                                <span class="onoffswitch2-switch"></span>
                                            </label>
                                        </div>
                                    </fieldset>
                                    <fieldset class="form-group">
                                        <label style="padding: 5px 0 10px;">Do the courses of study (and other education experiences) align with the student's post goals?</label>&nbsp;&nbsp;
                                        <br />
                                        <div class="onoffswitch2" style="display: inline-block; vertical-align: middle;">
                                            <input type="checkbox" name="alignStudentPostGoals" id="alignStudentPostGoals" class="onoffswitch2-checkbox">
                                            <label class="onoffswitch2-label" for="alignStudentPostGoals">
                                                <span class="onoffswitch2-inner"></span>
                                                <span class="onoffswitch2-switch"></span>
                                            </label>
                                        </div>
                                    </fieldset>
                                    <p>
                                        The IEP team has review this student's progress towards graduation. For high school students, a copy of the plan has been developed/updated and is
                                        maintained in the counselor's office
                                    </p>

                                    <div class="col-md-3">
                                        <fieldset class="form-group">
                                            <label for="Duration">Anticipated Graduation Month/Year</label>
                                            <div class="input-group year-spinner" style="width: 200px;">
                                                <span class="input-group-btn">
                                                    <button type="button" class="btn btn-default" data-dir="dwn" style="height: 49px;"><span class="glyphicon glyphicon-minus"></span></button>
                                                </span>
                                                <input type="number" name="graduationYear" class="form-control text-center" value="2018" min="2018" max="2048">
                                                <span class="input-group-btn">
                                                    <button type="button" class="btn btn-default" data-dir="up" style="height: 49px;"><span class="glyphicon glyphicon-plus"></span></button>
                                                </span>
                                            </div>
                                        </fieldset>
                                    </div>
                                    <div class="col-md-6">
                                        <fieldset class="form-group">
                                            <label>&nbsp;</label>
                                            <select class="form-control">
                                                <option>Graduate with a High School Diploma</option>
                                                <option>Complete their Educational Program or Exit at the end of the school year during which the student becomes 21 years of age</option>
                                            </select>
                                        </fieldset>
                                    </div>
                                    <div class="col-md-3">
                                        <fieldset class="form-group">
                                            <label for="totalcredits">Total # of Credits required by district</label>
                                            <input type="text" name="totalcredits" class="form-control" />
                                        </fieldset>
                                    </div>

                                    <br />
                                    <h4><b>Vocational Rehabilitation</b></h4>
                                    <p>Did the IEP Team determine that the student, if age 16 or older, might benefit from Kansas Rehabilitation Service (KRS) assistance?</p>
                                    <fieldset class="form-group">
                                        <label style="padding: 5px 0 10px;">Do the transition courses of study focus on improving the academic and functional achievement of the child to faciliate their movement from school to post-school?</label>&nbsp;&nbsp;
                                        <div class="onoffswitch2" style="display: inline-block; vertical-align: middle;">
                                            <input type="checkbox" name="isVocationalRehabiltiation" id="isVocationalRehabiltiation" class="onoffswitch2-checkbox">
                                            <label class="onoffswitch2-label" for="isVocationalRehabiltiation">
                                                <span class="onoffswitch2-inner"></span>
                                                <span class="onoffswitch2-switch"></span>
                                            </label>
                                        </div>
                                    </fieldset>
                                    <fieldset class="form-group hidden" id="releaseObtained">
                                        <label style="padding: 5px 0 10px;">Was consent to release confidential information obtained to prior to KRS notification?</label>&nbsp;&nbsp;
                                        <div class="onoffswitch2" style="display: inline-block; vertical-align: middle;">
                                            <input type="checkbox" name="isConfidentailReleaseObtained" id="isConfidentailReleaseObtained" class="onoffswitch2-checkbox">
                                            <label class="onoffswitch2-label" for="isConfidentailReleaseObtained">
                                                <span class="onoffswitch2-inner"></span>
                                                <span class="onoffswitch2-switch"></span>
                                            </label>
                                        </div>
                                    </fieldset>

                                </div>
                            </div>
                        </div>
                        <div role="tabpanel" class="tab-pane fade" id="assessments">
                            <br />
                            <div class="row">
                                <div class="col-md-12" style="margin-bottom: 12px;">
                                    <button id="newgoal" class="btn btn-default">New Transition Assesssment&nbsp;&nbsp;<i class="glyphicon glyphicon-plus"></i></button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">

                                    <div class="panel-group" id="accordion[0]">

                                        <div class="panel panel-default">
                                            <div class="panel-heading">
                                                <h4 class="panel-title">
                                                    <a class="btnToggle" data-toggle="collapse" data-parent="#accordion[0]" href="#collapse0">
                                                        <span class="glyphicon glyphicon-random"></span><span class="studentGoalLabel" style="margin-left:5px;">Assessment</span>
                                                        <span class="pull-right">
                                                            <i class="glyphicon glyphicon-trash deleteGoal"></i>
                                                        </span>
                                                    </a>
                                                </h4>
                                            </div>
                                            <div id="collapse0" class="panel-collapse">
                                                <div class="panel-body">
                                                    <div class="row">

                                                        <div class="col-md-12">
                                                            <textarea rows="3" style="width: 100%;" class="form-group"></textarea>
                                                            <div>Completed</div><input type="datetime" vale="" />
                                                        </div>

                                                    </div>
                                                </div>

                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

            </div>

        </div>

        <div class="modal-footer">
            <button type="button" class="btn btn-default btn-lg" data-dismiss="modal">Close</button>
        </div>

        <script>
            $('#myTabs a').click(function (e) {
                e.preventDefault()
                $(this).tab('show')
            })

            // Attach Event
            // fires when the user toggles the 21st birthday question.
            $("input[name='isStudentBirthdayAgeOver21']").on('click', function (event) {
                var isBirthdayAgeOver21 = $("input[name='isStudentBirthdayAgeOver21']");

                $("input[name='isStudentBirthdayAgeOver21']").is(':checked', !isBirthdayAgeOver21.prop("checked"));
                $("#studentBirthdayAgeOver21").toggleClass("hidden");
            });

            // Attach Event
            // fires when the user toggles Vocational Rehabilitation question.
            $("input[name='isVocationalRehabiltiation']").on('click', function (event) {
                var isVocationalRehabiltiation = $("input[name='isVocationalRehabiltiation']");

                $("input[name='isVocationalRehabiltiation']").is(':checked', !isVocationalRehabiltiation.prop("checked"));
                $("#releaseObtained").toggleClass("hidden");
            });

            // Attach Event
            // fires when the user clicks the buttons next to the graduation month
            $(".year-spinner button").on("click", function () {

                var btn = $(this),
                    maxValue = btn.closest('.year-spinner').find('input').prop("max"),
                    oldValue = btn.closest('.year-spinner').find('input').val().trim(),
                    newValue = parseInt(oldValue);

                if (btn.attr('data-dir') == 'up') {
                    if (newValue < maxValue) {
                        newValue = newValue + 1;
                    }
                } else {
                    if (oldValue > 1) {
                        newValue = newValue - 1;
                    }
                }

                btn.closest('.year-spinner').find('input').val(newValue);
            });
        </script>
