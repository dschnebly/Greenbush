@model GreenBushIEP.Models.StudentGoalsViewModel

<style>
    .default {
        width: 100% !important;
    }
    /*needed for chosen placeholder to show when the element is initially hidden*/
    .form-inline .form-group {
        margin-right: 10px;
    }

    .well-primary {
        color: rgb(255, 255, 255);
        background-color: rgb(66, 139, 202);
        border-color: rgb(53, 126, 189);
    }

    .panel-group {
        margin-bottom: 12px;
    }

    .module-selector {
        height: 36px;
    }

    span.glyphicon-plus-sign {
        -webkit-transition-duration: 0.2s;
        -moz-transition-duration: 0.2s;
        -o-transition-duration: 0.2s;
        transition-duration: 0.2s;
        -webkit-transition-property: -webkit-transform;
        -moz-transition-property: -moz-transform;
        -o-transition-property: -o-transform;
        transition-property: transform;
        -webkit-transform: rotate(92deg);
        -moz-transform: rotate(92deg);
        -o-transform: rotate(92deg);
        -ms-transform: rotate(92deg);
        transform: rotate(92deg);
    }

        span.glyphicon-plus-sign.active {
            -webkit-transition-duration: 0.2s;
            -moz-transition-duration: 0.2s;
            -o-transition-duration: 0.2s;
            transition-duration: 0.2s;
            -webkit-transition-property: -webkit-transform;
            -moz-transition-property: -moz-transform;
            -o-transition-property: -o-transform;
            transition-property: transform;
            -webkit-transform: rotate(46deg);
            -moz-transform: rotate(46deg);
            -o-transform: rotate(46deg);
            -ms-transform: rotate(46deg);
            transform: rotate(46deg);
        }

    .commentsHighlighted {
        border-color: yellow;
    }

    .ajax-loader .success {
        display: none;
        position: fixed;
        top: 50%;
        left: 33%;
        font-size: 24px;
        color: green;
    }

    .ajax-loader .failure {
        display: none;
        position: fixed;
        top: 50%;
        left: 33%;
        font-size: 24px;
        color: red;
    }

    .search-choice span {
        position: relative;
        top: 9px;
        font-size: 16px;
    }
</style>

<link href="/Content/chosen.css" rel="stylesheet" />
<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal"><span class="glyphicon glyphicon-remove-circle" style="font-size: 30px;"></span></button>
    <button type="button" class="tooltip-help" data-toggle="tooltip" data-placement="bottom" title="Follow the tooltips to learn how to user this form"><span class="glyphicon glyphicon-question-sign" style="font-size: 30px;"></span></button>
    <h4 class="modal-title" style="font-size: 30px;"><i class="fa fa-trophy" aria-hidden="true" style="font-size: smaller; "></i>&nbsp;Student Goals</h4>
</div>
<div class="modal-body">
    <div class="container" id="StudentGoals">
        <div class="row">
            <div class="col-md-12" style="margin-bottom: 12px;">
                <button id="newgoal" class="btn btn-default">New Student Goal&nbsp;&nbsp;<i class="glyphicon glyphicon-plus"></i></button>
            </div>
        </div>
        <div class="alert alert-danger" id="alertMessage" role="alert" style="display: none;">
            <strong class="moreinfo">Oh snap!</strong>
        </div>
        <div class="StudentGoalBenchmark hidden" id="defaultObjective">
            <input type="hidden" name="StudentGoalBenchmarkId0" value="" />
            <div class="form-group" style="margin-bottom: 0;">
                <div class="input-group" style="background-color: #F9F9F9;">
                    <div class="input-group-btn bs-dropdown-to-select-group">
                        <button type="button" class="btn btn-default dropdown-toggle as-is bs-dropdown-to-select" data-toggle="dropdown" style="font-size:16px;height: 49px;">
                            <span data-bind="bs-drp-sel-label">Select Method...</span>
                            <span class="caret"></span>
                            <span class="sr-only">Toggle Dropdown</span>
                        </button>
                        <input type="hidden" name="StudentGoalBenchmarkMethod0" class="StudentGoalBenchmarkMethod" data-bind="bs-drp-sel-value" value="1">
                        <ul class="dropdown-menu" role="menu" style="font-size:16px;">
                            <li data-value="1"><a href="#">Written Observation</a></li>
                            <li data-value="2"><a href="#">Written Performance</a></li>
                            <li data-value="3"><a href="#">Oral Performance</a></li>
                            <li data-value="4"><a href="#">Criterion-Referenced Test</a></li>
                            <li data-value="5"><a href="#">Time Sample</a></li>
                            <li data-value="6"><a href="#">Demonstration/Performance</a></li>
                            <li data-value="7"><a href="#">Other</a></li>
                        </ul>
                    </div>
                    <input type="text" value="" name="StudentGoalBenchmarkTitle0" class="StudentGoalBenchmarkTitle form-control" style="font-size:16px;" placeholder="Enter a new student benchmark" />
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default btn-number transition-activity" style="height:49px; border-radius: 0;">
                            <span class="glyphicon glyphicon-unchecked"></span>
                        </button>
                        <input type="hidden" name="StudentGoalBenchmarkHasTransition0" value="false" />
                    </span>
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default deleteBenchmark" style="height:49px; border-radius: 0;">
                            <i class="glyphicon glyphicon-trash"></i>
                        </button>
                    </span>
                </div>
            </div>
            <div class="slideReportProgress" style="display: none;">
                <table class="table table-bordered table-bordered table-responsive">
                    <thead class="thead-inverse" style="background-color: #ededed;">
                        <tr>
                            <th class="text-center standard-font-size" colspan="4">Reports of Progress</th>
                        </tr>
                        <tr>
                            <th>
                                <div class="pull-left col-md-offset-2" style="margin-top: 5px;">1<sup>st</sup></div>
                                <div class="col-md-9 date">
                                    <input type="date" class="form-control" name="reportOfProgressQuarter10" style="height: 30px; padding: 0 0 0 10px; line-height: normal;" pattern="YYYY-MM-DD" />
                                </div>
                            </th>
                            <th>
                                <div class="pull-left col-md-offset-2" style="margin-top: 5px;">2<sup>nd</sup></div>
                                <div class="col-md-9 date">
                                    <input type="date" class="form-control" name="reportOfProgressQuarter20" style="height: 30px; padding: 0 0 0 10px; line-height: normal;" pattern="YYYY-MM-DD" />
                                </div>
                            </th>
                            <th>
                                <div class="pull-left col-md-offset-2" style="margin-top: 5px;">3<sup>rd</sup></div>
                                <div class="col-md-9 date">
                                    <input type="date" class="form-control" name="reportOfProgressQuarter30" style="height: 30px; padding: 0 0 0 10px; line-height: normal;" pattern="YYYY-MM-DD" />
                                </div>
                            </th>
                            <th>
                                <div class="pull-left col-md-offset-2" style="margin-top: 5px;">4<sup>th</sup></div>
                                <div class="col-md-9 date">
                                    <input type="date" class="form-control" name="reportOfProgressQuarter40" style="height: 30px; padding: 0 0 0 10px; line-height: normal;" pattern="YYYY-MM-DD" />
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="input-group input-append">
                                    <select class="form-control objective" name="ReportsOfProgressSelect10">
                                        <option value="1">Not applicable during this grading period</option>
                                        <option value="2">No progress made</option>
                                        <option value="3">Little progress made</option>
                                        <option value="4">Progress made; Objective not yet met</option>
                                        <option value="5">Objective met</option>
                                    </select>
                                    <span class="input-group-addon add-on addComment" data-value="reportOfProgressShortTermComments10"><span class="glyphicon glyphicon-edit"></span></span>
                                </div>
                            </td>
                            <td>
                                <div class="input-group input-append">
                                    <select class="form-control objective" name="ReportsOfProgressSelect20">
                                        <option value="1">Not applicable during this grading period</option>
                                        <option value="2">No progress made</option>
                                        <option value="3">Little progress made</option>
                                        <option value="4">Progress made; Objective not yet met</option>
                                        <option value="5">Objective met</option>
                                    </select>
                                    <span class="input-group-addon add-on addComment" data-value="reportOfProgressShortTermComments20"><span class="glyphicon glyphicon-edit"></span></span>
                                </div>
                            </td>
                            <td>
                                <div class="input-group input-append">
                                    <select class="form-control objective" name="ReportsOfProgressSelect30">
                                        <option value="1">Not applicable during this grading period</option>
                                        <option value="2">No progress made</option>
                                        <option value="3">Little progress made</option>
                                        <option value="4">Progress made; Objective not yet met</option>
                                        <option value="5">Objective met</option>
                                    </select>
                                    <span class="input-group-addon add-on addComment" data-value="reportOfProgressShortTermComments30"><span class="glyphicon glyphicon-edit"></span></span>
                                </div>
                            </td>
                            <td>
                                <div class="input-group input-append">
                                    <select class="form-control objective" name="ReportsOfProgressSelect40">
                                        <option value="1">Not applicable during this grading period</option>
                                        <option value="2">No progress made</option>
                                        <option value="3">Little progress made</option>
                                        <option value="4">Progress made; Objective not yet met</option>
                                        <option value="5">Objective met</option>
                                    </select>
                                    <span class="input-group-addon add-on addComment" data-value="reportOfProgressShortTermComments40"><span class="glyphicon glyphicon-edit"></span></span>
                                </div>
                            </td>
                        </tr>
                        <tr class="hidden">
                            <td colspan="4">
                                <label for="shortTermComments" data-toggle="tooltip" data-placement="top" title="Enter a about the student's performance while attempt to reach this goal">Comments</label>
                                <div class="form-group shortTermComments">
                                    <textarea name="reportOfProgressShortTermComments10" placeholder="Enter your comment about the 1st quarter reporting period" rows="4" style="width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;" class="hidden" value="" maxlength="50" data-toggle="tooltip" data-placement="bottom" title="50 character limit."></textarea>
                                    <textarea name="reportOfProgressShortTermComments20" placeholder="Enter your comment about the 2nd quarter reporting period" rows="4" style="width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;" class="hidden" value="" maxlength="50" data-toggle="tooltip" data-placement="bottom" title="50 character limit."></textarea>
                                    <textarea name="reportOfProgressShortTermComments30" placeholder="Enter your comment about the 3rd quarter reporting period" rows="4" style="width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;" class="hidden" value="" maxlength="50" data-toggle="tooltip" data-placement="bottom" title="50 character limit."></textarea>
                                    <textarea name="reportOfProgressShortTermComments40" placeholder="Enter your comment about the 4th quarter reporting period" rows="4" style="width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;" class="hidden" value="" maxlength="50" data-toggle="tooltip" data-placement="bottom" title="50 character limit."></textarea>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="row StudentGoal hidden" id="defaultGoal">

            @using (Html.BeginForm("EditStudentGoals", "ModuleSection", FormMethod.Post, new { @class = "goalForm" }))
            {
                @Html.AntiForgeryToken()
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                @Html.Hidden("studentId", Model.studentId)
                @Html.Hidden("IEPid", Model.iepId)

                <div class="col-md-12">
                    <div class="panel-group" id="accordion0">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <input type="hidden" name="StudentGoalId" value="0" />
                                    <a data-toggle="collapse" data-parent="#accordion0" href="#collapse0">
                                        <i class="fa fa-trophy"></i><span class="studentGoalLabel" style="margin-left:5px;">Student Goal</span>
                                        <span class="pull-right">
                                            <i class="glyphicon glyphicon-trash deleteGoal"></i>
                                        </span>
                                    </a>
                                </h4>
                            </div>
                            <div id="collapse0" class="panel-collapse collapse in">
                                <div class="panel-body">
                                    <div class="form-group">
                                        <label class="standard-font-size" for="StudentGoalTitle">Student Goal</label>
                                        <div class="input-group">
                                            <div class="input-group-btn bs-dropdown-to-select-group">
                                                <button type="button" class="btn btn-default dropdown-toggle as-is bs-dropdown-to-select studentGoalType" data-toggle="dropdown" style="font-size:16px;height: 49px;">
                                                    <span data-bind="bs-drp-sel-label">Select Module...</span>
                                                    <span class="caret"></span>
                                                    <span class="sr-only">Toggle Dropdown</span>
                                                </button>
                                                <input type="hidden" name="StudentGoalSelectedModule0" data-bind="bs-drp-sel-value" value="1">
                                                <ul class="dropdown-menu" role="menu" style="font-size:16px;">
                                                    <li data-value="1"><a href="#">Health</a></li>
                                                    <li data-value="2"><a href="#">Motor</a></li>
                                                    <li data-value="3"><a href="#">Communication</a></li>
                                                    <li data-value="4"><a href="#">Social-Emotional</a></li>
                                                    <li data-value="5"><a href="#">General Intelligence</a></li>
                                                    <li data-value="6"><a href="#">Academic Performance</a></li>
                                                    <li data-value="7"><a href="#">Reading</a></li>
                                                    <li data-value="8"><a href="#">Math</a></li>
                                                    <li data-value="9"><a href="#">Written Language</a></li>
                                                </ul>

                                            </div>
                                            <input type="text" name="StudentGoalTitle0" class="form-control StudentGoalTitle standard-font-size" placeholder="Goal Title" />
                                            <span class="input-group-addon">
                                                <i class="fa fa-handshake-o StudentGoalNeedsService" aria-hidden="true" style="font-size:18px; opacity: 1" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="This column indicates if a service will be required to achieve this goal."></i>
                                                <input name="hasService0" value="true" type="hidden">
                                            </span>
                                        </div>
                                    </div>
                                    <label for="StudentGoalAnnualGoal" class="standard-font-size" data-toggle="tooltip" data-placement="right" title="Enter a long term goal you would like the student to achieve.">Measurable Annual Goal: <span style="font-size: 9pt; font-weight: normal;">(Please include Timeframe, Criteria, Behavior and Condition)</span></label><br />
                                    <div class="form-group">
                                        <textarea class="form-control StudentGoalAnnualGoal standard-font-size" name="StudentGoalAnnualGoal0" placeholder="Enter a measurable annual goal for this student" rows="5" data-validate="true" maxlength="500" data-toggle="tooltip" data-placement="bottom" title="500 character limit."></textarea>
                                    </div>
                                    <label for="StudentGoalBaseline" class="standard-font-size" data-toggle="tooltip" data-placement="right" title="Enter a long term goal you would like the student to achieve.">Goal Baseline</label><br />
                                    <div class="form-group">
                                        <input type="text" value="" class="form-control standard-font-size studentGoalBaseline" name="StudentGoalBaseline0" placeholder="Add a Goal Baseline" />
                                    </div>
                                    <label for="StudentGoalStateStandards" class="standard-font-size" data-toggle="tooltip" data-placement="right" title="Enter a long term goal you would like the student to achieve.">State Standards</label>&nbsp;<a href="http://www.ksde.org/Teaching-Learning/Academic-Standards" target="_blank" style="font-size: 8pt; margin-left: 0.8em;">KSDE website&nbsp;<i class="glyphicon glyphicon-new-window"></i></a><br />
                                    <div class="form-group">
                                        <input type="text" value="" class="form-control standard-font-size" name="StudentGoalStateStandards0" placeholder="Add State Standards" />
                                    </div>
                                    <label class="standard-font-size" for="StudentEvaluationProcedures">Evaluation Procedure</label>
                                    <div class="form-group">
                                        <div class="input-group-btn bs-dropdown-to-select-group">
                                            <select name="StudentGoalBenchmarkMethods0" data-placeholder="Choose Methods..." class="standard-font-size" id="StudentGoalBenchmarkMethods0" multiple="multiple" style="min-height: 49px; " data-validate="true">
                                                <option value="1">Written Observation</option>
                                                <option value="2">Written Performance</option>
                                                <option value="3">Oral Performance</option>
                                                <option value="4">Criterion-Referenced Test</option>
                                                <option value="5">Time Sample</option>
                                                <option value="6">Demonstration/Performance</option>
                                                <option value="7">Other</option>
                                            </select>
                                        </div>
                                    </div>
                                    <table class="table table-bordered table-responsive" style="margin-bottom: 0; background-color: #eee;">
                                        <thead class="thead-inverse">
                                            <tr>
                                                <th class="text-center standard-font-size" colspan="4"><i class="glyphicon glyphicon-plus ProgressAnnualGoal" style="float:left;"></i>Progress Towards Annual Goal</th>
                                            </tr>
                                            <tr class="PTAGDisplay hidden">
                                                <th>
                                                    <div class="pull-left col-md-offset-2 standard-font-size" style="margin-top: 5px;">1<sup>st</sup></div>
                                                    <div class="col-md-8 date">
                                                        <input type="date" class="form-control standard-font-size" name="ReportAnnualGoalDate10" style="height: 30px; padding: 0 0 0 10px; line-height: normal;" pattern="YYYY-MM-DD" />
                                                    </div>
                                                </th>
                                                <th>
                                                    <div class="pull-left col-md-offset-2 standard-font-size" style="margin-top: 5px;">2<sup>nd</sup></div>
                                                    <div class="col-md-9 date">
                                                        <input type="date" class="form-control standard-font-size" name="ReportAnnualGoalDate20" style="height: 30px; padding: 0 0 0 10px; line-height: normal;" pattern="YYYY-MM-DD" />
                                                    </div>
                                                </th>
                                                <th>
                                                    <div class="pull-left col-md-offset-2 standard-font-size" style="margin-top: 5px;">3<sup>rd</sup></div>
                                                    <div class="col-md-9 date">
                                                        <input type="date" class="form-control standard-font-size" name="ReportAnnualGoalDate30" style="height: 30px; padding: 0 0 0 10px; line-height: normal;" pattern="YYYY-MM-DD" />
                                                    </div>
                                                </th>
                                                <th>
                                                    <div class="pull-left col-md-offset-2 standard-font-size" style="margin-top: 5px;">4<sup>th</sup></div>
                                                    <div class="col-md-9 date">
                                                        <input type="date" class="form-control standard-font-size" name="ReportAnnualGoalDate40" style="height: 30px; padding: 0 0 0 10px; line-height: normal;" pattern="YYYY-MM-DD" />
                                                    </div>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody class="PTAGDisplay hidden">
                                            <tr>
                                                <td>
                                                    <div class="input-group input-append">
                                                        <select class="form-control" name="ReportAnnualGoal10">
                                                            <option value="1">Anticipate Meeting Goal</option>
                                                            <option value="2">Do Not Anticipate Meeting Goal (note reason)</option>
                                                            <option value="3">Goal Met (indicate date)</option>
                                                        </select>
                                                        <span class="input-group-addon add-on addComment" data-value="reportOfAnnualGoalComments10"><span class="glyphicon glyphicon-edit"></span></span>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="input-group input-append">
                                                        <select class="form-control" name="ReportAnnualGoal20">
                                                            <option value="1">Anticipate Meeting Goal</option>
                                                            <option value="2">Do Not Anticipate Meeting Goal (note reason)</option>
                                                            <option value="3">Goal Met (indicate date)</option>
                                                        </select>
                                                        <span class="input-group-addon add-on addComment" data-value="reportOfAnnualGoalComments20"><span class="glyphicon glyphicon-edit"></span></span>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="input-group input-append">
                                                        <select class="form-control" name="ReportAnnualGoal30">
                                                            <option value="1">Anticipate Meeting Goal</option>
                                                            <option value="2">Do Not Anticipate Meeting Goal (note reason)</option>
                                                            <option value="3">Goal Met (indicate date)</option>
                                                        </select>
                                                        <span class="input-group-addon add-on addComment" data-value="reportOfAnnualGoalComments30"><span class="glyphicon glyphicon-edit"></span></span>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="input-group input-append">
                                                        <select class="form-control" name="ReportAnnualGoal40">
                                                            <option value="1">Anticipate Meeting Goal</option>
                                                            <option value="2">Do Not Anticipate Meeting Goal (note reason)</option>
                                                            <option value="3">Goal Met (indicate date)</option>
                                                        </select>
                                                        <span class="input-group-addon add-on addComment" data-value="reportOfAnnualGoalComments40"><span class="glyphicon glyphicon-edit"></span></span>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr class="hidden">
                                                <td colspan="4">
                                                    <label for="shortTermComments" data-toggle="tooltip" data-placement="top" title="Enter a about the student's performance while attempt to reach this goal">Comments</label>
                                                    <div class="form-group shortTermComments">
                                                        <textarea name="reportOfAnnualGoalComments10" placeholder="Enter your comment about the 1st annual reporting period" rows="4" style="width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;" class="hidden" value="" maxlength="50" data-toggle="tooltip" data-placement="bottom" title="50 character limit."></textarea>
                                                        <textarea name="reportOfAnnualGoalComments20" placeholder="Enter your comment about the 2nd annual reporting period" rows="4" style="width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;" class="hidden" value="" maxlength="50" data-toggle="tooltip" data-placement="bottom" title="50 character limit."></textarea>
                                                        <textarea name="reportOfAnnualGoalComments30" placeholder="Enter your comment about the 3rd annual reporting period" rows="4" style="width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;" class="hidden" value="" maxlength="50" data-toggle="tooltip" data-placement="bottom" title="50 character limit."></textarea>
                                                        <textarea name="reportOfAnnualGoalComments40" placeholder="Enter your comment about the 4th annual reporting period" rows="4" style="width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;" class="hidden" value="" maxlength="50" data-toggle="tooltip" data-placement="bottom" title="50 character limit."></textarea>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <br />
                                    <button type="button" class="btn btn-default newObjectiveBenchmark" data-toggle="tooltip" data-placement="right" title="To add more than one short term objective, click this button." style="margin-bottom: 10px; margin-top: 10px;">Add Short Term Benchmark(s)&nbsp;&nbsp;<span class="glyphicon glyphicon-plus"></span></button>
                                    <br />
                                    <label class="input-labels" style="font-size:16px;margin-top: 5px;">Short Term Benchmark(s)</label>
                                    <label class="input-labels pull-right" style="margin-top: -40px; font-size: 26px; margin-right: 5px">
                                        <span class="glyphicon glyphicon-plus-sign toggleReportsOfProgress"></span>
                                    </label>
                                    <label class="input-labels pull-right" style="font-size:16px;margin-right: 15px;">T.A.</label>
                                    <div class="StudentGoalBenchmarks">

                                    </div>
                                    <div class="col-md-12" style="text-align:center; margin-top: 15px;">
                                        <div class="form-group">
                                            <button type="reset" class="formbtn btn btn-default btn-lg" data-toggle="tooltip" data-placement="bottom" title="Reset form to initial values."><i class="glyphicon glyphicon-repeat"></i>&nbsp;Reset</button>
                                            <button type="button" class="SaveForm formbtn btn btn-primary btn-lg"><i class="glyphicon glyphicon-floppy-disk"></i>&nbsp;Save</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }

        </div>

        @if (Model.studentGoals.Count > 0)
        {
            foreach (var studentGoal in Model.studentGoals)
            {
                var needsIN = (Model.studentGoals.IndexOf(studentGoal) == Model.studentGoals.Count - 1) ? "in" : "";

                <div class="row StudentGoal">

                    @using (Html.BeginForm("EditStudentGoals", "ModuleSection", FormMethod.Post, new { @class = "goalForm" }))
                    {

                        @Html.AntiForgeryToken()
                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                        @Html.Hidden("studentId", Model.studentId)
                        @Html.Hidden("IEPid", Model.iepId)

                        <div class="col-md-12">
                            <div class="panel-group" id="accordion@(studentGoal.goal.goalID)">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">
                                            <input type="hidden" name="StudentGoalId" value="@(studentGoal.goal.goalID)" />
                                            <a data-toggle="collapse" data-parent="#accordion@(studentGoal.goal.goalID)" href="#collapse@(studentGoal.goal.goalID)">
                                                <i class="fa fa-trophy"></i><span class="studentGoalLabel" style="margin-left:5px;">@(studentGoal.goal.Title)</span>
                                                <span class="pull-right">
                                                    <i class="glyphicon glyphicon-trash deleteGoal"></i>
                                                </span>
                                            </a>
                                        </h4>
                                    </div>
                                    <div id="collapse@(studentGoal.goal.goalID)" class="panel-collapse collapse @(needsIN)">
                                        <div class="panel-body">
                                            <div class="form-group">
                                                <label class="standard-font-size" for="StudentGoalTitle">Student Goal</label>
                                                <div class="input-group">
                                                    <div class="input-group-btn bs-dropdown-to-select-group">
                                                        <button type="button" class="btn btn-default dropdown-toggle as-is bs-dropdown-to-select" data-toggle="dropdown" style="font-size:16px;height: 49px;">
                                                            <span data-bind="bs-drp-sel-label">Select Module...</span>
                                                            <span class="caret"></span>
                                                            <span class="sr-only">Toggle Dropdown</span>
                                                        </button>
                                                        <input type="hidden" name="StudentGoalSelectedModule@(studentGoal.goal.goalID)" data-bind="bs-drp-sel-value" value="@(studentGoal.goal.Module)">
                                                        <ul class="dropdown-menu" role="menu" style="font-size:16px;">
                                                            <li data-value="1"><a href="#">Health</a></li>
                                                            <li data-value="2"><a href="#">Motor</a></li>
                                                            <li data-value="3"><a href="#">Communication</a></li>
                                                            <li data-value="4"><a href="#">Social-Emotional</a></li>
                                                            <li data-value="5"><a href="#">General Intelligence</a></li>
                                                            <li data-value="6"><a href="#">Academic Performance</a></li>
                                                            <li data-value="7"><a href="#">Reading</a></li>
                                                            <li data-value="8"><a href="#">Math</a></li>
                                                            <li data-value="9"><a href="#">Written Language</a></li>
                                                        </ul>
                                                    </div>
                                                    <input type="text" name="StudentGoalTitle@(studentGoal.goal.goalID)" class="form-control StudentGoalTitle standard-font-size" placeholder="Goal Title" value="@(studentGoal.goal.Title)" />
                                                    <span class="input-group-addon">
                                                        <i class="fa fa-handshake-o StudentGoalNeedsService" aria-hidden="true" style="font-size:18px; opacity: @(studentGoal.goal.hasSerivce ? "1.0" : "0.2")" data-toggle="tooltip" data-placement="bottom" title="This column indicates if a service will be required to achieve this goal."></i>
                                                        <input name="hasService@(studentGoal.goal.goalID)" value="@(studentGoal.goal.hasSerivce.ToString().ToLower())" type="hidden">
                                                    </span>
                                                </div>
                                            </div>
                                            <label class="standard-font-size" for="StudentGoalAnnualGoal" data-toggle="tooltip" data-placement="right" title="Enter a long term goal you would like the student to achieve.">Measurable Annual Goal: <span style="font-size: 9pt; font-weight: normal;">(Please include Timeframe, Criteria, Behavior and Condition)</span></label><br />
                                            <div class="form-group">
                                                <textarea class="form-control StudentGoalAnnualGoal standard-font-size" name="StudentGoalAnnualGoal@(studentGoal.goal.goalID)" placeholder="Enter a measurable annual goal for this student" rows="5" data-validate="true" maxlength="500" data-toggle="tooltip" data-placement="bottom" title="500 character limit.">@(studentGoal.goal.AnnualGoal)</textarea>
                                            </div>
                                            <label class="standard-font-size" for="StudentGoalBaseline" data-toggle="tooltip" data-placement="right" title="Enter a long term goal you would like the student to achieve.">Goal Baseline</label><br />
                                            <div class="form-group">
                                                <input type="text" value="@(studentGoal.goal.Baseline)" class="form-control standard-font-size" name="StudentGoalBaseline@(studentGoal.goal.goalID)" placeholder="Add a Goal Baseline" />
                                            </div>
                                            <label class="standard-font-size" for="StudentGoalStateStandards" data-toggle="tooltip" data-placement="right" title="Enter a long term goal you would like the student to achieve.">State Standards</label>&nbsp;<a href="http://www.ksde.org/Teaching-Learning/Academic-Standards" target="_blank" style="font-size: 8pt; margin-left: 0.8em;">KSDE website&nbsp;<i class="glyphicon glyphicon-new-window"></i></a><br />
                                            <div class="form-group">
                                                <input type="text" value="@(studentGoal.goal.StateStandards)" class="form-control standard-font-size" name="StudentGoalStateStandards@(studentGoal.goal.Baseline)" placeholder="Add State Standards" />
                                            </div>
                                            <label class="standard-font-size" for="StudentEvaluationProcedures">Evaluation Procedure</label>
                                            <div class="form-group">
                                                <select name="StudentGoalBenchmarkMethods@(studentGoal.goal.goalID)" data-placeholder="Choose Methods..." class="chosen-select standard-font-size" multiple="multiple" style="min-height: 49px; " data-validate="true">
                                                    <option value="1" @(studentGoal.evaluationProcedures != null && studentGoal.evaluationProcedures.Any(o => o.evaluationProcedureID == 1) ? "selected" : "")>Written Observation</option>
                                                    <option value="2" @(studentGoal.evaluationProcedures != null && studentGoal.evaluationProcedures.Any(o => o.evaluationProcedureID == 2) ? "selected" : "")>Written Performance</option>
                                                    <option value="3" @(studentGoal.evaluationProcedures != null && studentGoal.evaluationProcedures.Any(o => o.evaluationProcedureID == 3) ? "selected" : "")>Oral Performance</option>
                                                    <option value="4" @(studentGoal.evaluationProcedures != null && studentGoal.evaluationProcedures.Any(o => o.evaluationProcedureID == 4) ? "selected" : "")>Criterion-Referenced Test</option>
                                                    <option value="5" @(studentGoal.evaluationProcedures != null && studentGoal.evaluationProcedures.Any(o => o.evaluationProcedureID == 5) ? "selected" : "")>Time Sample</option>
                                                    <option value="6" @(studentGoal.evaluationProcedures != null && studentGoal.evaluationProcedures.Any(o => o.evaluationProcedureID == 6) ? "selected" : "")>Demonstration/Performance</option>
                                                    <option value="7" @(studentGoal.evaluationProcedures != null && studentGoal.evaluationProcedures.Any(o => o.evaluationProcedureID == 7) ? "selected" : "")>Other</option>
                                                </select>
                                            </div>
                                            <table class="table table-bordered table-responsive" style="margin-bottom: 0; background-color: #eee;">
                                                <thead class="thead-inverse">
                                                    <tr>
                                                        <th class="text-center standard-font-size" colspan="4"><i class="glyphicon glyphicon-plus ProgressAnnualGoal" style="float:left;"></i>Progress Towards Annual Goal</th>
                                                    </tr>
                                                    <tr class="PTAGDisplay hidden">
                                                        <th>
                                                            <div class="pull-left col-md-offset-2" style="margin-top: 5px;">1<sup>st</sup></div>
                                                            <div class="col-md-8 date">
                                                                <input type="date" class="form-control" name="ReportAnnualGoalDate1@(studentGoal.goal.goalID)" style="height: 30px; padding: 0 0 0 10px; line-height: normal;" pattern="YYYY-MM-DD" value="@(studentGoal.goal.ProgressDate_Quarter1.ToString("yyyy-MM-dd"))" />
                                                            </div>
                                                        </th>
                                                        <th>
                                                            <div class="pull-left col-md-offset-2" style="margin-top: 5px;">2<sup>nd</sup></div>
                                                            <div class="col-md-9 date">
                                                                <input type="date" class="form-control" name="ReportAnnualGoalDate2@(studentGoal.goal.goalID)" style="height: 30px; padding: 0 0 0 10px; line-height: normal;" pattern="YYYY-MM-DD" value="@(studentGoal.goal.ProgressDate_Quarter2.ToString("yyyy-MM-dd"))" />
                                                            </div>
                                                        </th>
                                                        <th>
                                                            <div class="pull-left col-md-offset-2" style="margin-top: 5px;">3<sup>rd</sup></div>
                                                            <div class="col-md-9 date">
                                                                <input type="date" class="form-control" name="ReportAnnualGoalDate3@(studentGoal.goal.goalID)" style="height: 30px; padding: 0 0 0 10px; line-height: normal;" pattern="YYYY-MM-DD" value="@(studentGoal.goal.ProgressDate_Quarter3.ToString("yyyy-MM-dd"))" />
                                                            </div>
                                                        </th>
                                                        <th>
                                                            <div class="pull-left col-md-offset-2" style="margin-top: 5px;">4<sup>th</sup></div>
                                                            <div class="col-md-9 date">
                                                                <input type="date" class="form-control" name="ReportAnnualGoalDate4@(studentGoal.goal.goalID)" style="height: 30px; padding: 0 0 0 10px; line-height: normal;" pattern="YYYY-MM-DD" value="@(studentGoal.goal.ProgressDate_Quarter4.ToString("yyyy-MM-dd"))" />
                                                            </div>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody class="PTAGDisplay hidden">
                                                    <tr>
                                                        <td>
                                                            <div class="input-group input-append">
                                                                <select class="form-control" name="ReportAnnualGoal10">
                                                                    <option value="1" @(studentGoal.goal.Progress_Quarter1 == "1" ? "selected='selected'" : String.Empty )>Anticipate Meeting Goal</option>
                                                                    <option value="2" @(studentGoal.goal.Progress_Quarter1 == "2" ? "selected='selected'" : String.Empty )>Do Not Anticipate Meeting Goal (note reason)</option>
                                                                    <option value="3" @(studentGoal.goal.Progress_Quarter1 == "3" ? "selected='selected'" : String.Empty )>Goal Met (indicate date)</option>
                                                                </select>
                                                                <span class="input-group-addon add-on addComment" data-value="reportOfAnnualGoalComments10"><span class="glyphicon glyphicon-edit"></span></span>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="input-group input-append">
                                                                <select class="form-control" name="ReportAnnualGoal20">
                                                                    <option value="1" @(studentGoal.goal.Progress_Quarter2 == "1" ? "selected='selected'" : String.Empty )>Anticipate Meeting Goal</option>
                                                                    <option value="2" @(studentGoal.goal.Progress_Quarter2 == "2" ? "selected='selected'" : String.Empty )>Do Not Anticipate Meeting Goal (note reason)</option>
                                                                    <option value="3" @(studentGoal.goal.Progress_Quarter2 == "3" ? "selected='selected'" : String.Empty )>Goal Met (indicate date)</option>
                                                                </select>
                                                                <span class="input-group-addon add-on addComment" data-value="reportOfAnnualGoalComments20"><span class="glyphicon glyphicon-edit"></span></span>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="input-group input-append">
                                                                <select class="form-control" name="ReportAnnualGoal30">
                                                                    <option value="1" @(studentGoal.goal.Progress_Quarter3 == "1" ? "selected='selected'" : String.Empty )>Anticipate Meeting Goal</option>
                                                                    <option value="2" @(studentGoal.goal.Progress_Quarter3 == "2" ? "selected='selected'" : String.Empty )>Do Not Anticipate Meeting Goal (note reason)</option>
                                                                    <option value="3" @(studentGoal.goal.Progress_Quarter3 == "3" ? "selected='selected'" : String.Empty )>Goal Met (indicate date)</option>
                                                                </select>
                                                                <span class="input-group-addon add-on addComment" data-value="reportOfAnnualGoalComments30"><span class="glyphicon glyphicon-edit"></span></span>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="input-group input-append">
                                                                <select class="form-control" name="ReportAnnualGoal40">
                                                                    <option value="1" @(studentGoal.goal.Progress_Quarter4 == "1" ? "selected='selected'" : String.Empty )>Anticipate Meeting Goal</option>
                                                                    <option value="2" @(studentGoal.goal.Progress_Quarter4 == "2" ? "selected='selected'" : String.Empty )>Do Not Anticipate Meeting Goal (note reason)</option>
                                                                    <option value="3" @(studentGoal.goal.Progress_Quarter4 == "3" ? "selected='selected'" : String.Empty )>Goal Met (indicate date)</option>
                                                                </select>
                                                                <span class="input-group-addon add-on addComment" data-value="reportOfAnnualGoalComments40"><span class="glyphicon glyphicon-edit"></span></span>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr class="hidden">
                                                        <td colspan="4">
                                                            <label for="shortTermComments" data-toggle="tooltip" data-placement="top" title="Enter a about the student's performance while attempt to reach this goal">Comments</label>
                                                            <div class="form-group shortTermComments">
                                                                <textarea name="reportOfAnnualGoalComments10" placeholder="Enter your comment about the 1st annual reporting period" rows="4" style="width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;" class="hidden">@(studentGoal.goal.ProgressDescription_Quarter1)</textarea>
                                                                <textarea name="reportOfAnnualGoalComments20" placeholder="Enter your comment about the 2nd annual reporting period" rows="4" style="width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;" class="hidden">@(studentGoal.goal.ProgressDescription_Quarter2)</textarea>
                                                                <textarea name="reportOfAnnualGoalComments30" placeholder="Enter your comment about the 3rd annual reporting period" rows="4" style="width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;" class="hidden">@(studentGoal.goal.ProgressDescription_Quarter3)</textarea>
                                                                <textarea name="reportOfAnnualGoalComments40" placeholder="Enter your comment about the 4th annual reporting period" rows="4" style="width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;" class="hidden">@(studentGoal.goal.ProgressDescription_Quarter4)</textarea>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <br />
                                            <button type="button" class="btn btn-default newObjectiveBenchmark" data-toggle="tooltip" data-placement="right" title="To add more than one short term objective, click this button." style="margin-bottom: 10px; margin-top: 10px;">Add Short Term Benchmark(s)&nbsp;&nbsp;<span class="glyphicon glyphicon-plus"></span></button>
                                            <br class="benchmarkContent" />

                                            <label class="input-labels" style="font-size:16px;margin-top: 5px;">Short Term Benchmark(s)</label>
                                            <label class="input-labels pull-right" style="margin-top: -40px; font-size: 26px; margin-right: 5px">
                                                <span class="glyphicon glyphicon-plus-sign toggleReportsOfProgress"></span>
                                            </label>
                                            <label class="input-labels pull-right" style="font-size:16px;margin-right: 15px;">T.A.</label>
                                            <div class="StudentGoalBenchmarks">

                                                @foreach (var benchmark in studentGoal.benchmarks)
                                                {
                                                    <div class="StudentGoalBenchmark">
                                                        <input type="hidden" name="StudentGoalBenchmarkId@(benchmark.goalBenchmarkID)" value="@(benchmark.goalBenchmarkID)" />
                                                        <div class="form-group" style="margin-bottom: 0;">
                                                            <div class="input-group" style="background-color: #F9F9F9;">
                                                                <div class="input-group-btn bs-dropdown-to-select-group">
                                                                    <button type="button" class="btn btn-default dropdown-toggle as-is bs-dropdown-to-select" data-toggle="dropdown" style="font-size:16px;height: 49px;">
                                                                        <span data-bind="bs-drp-sel-label">Select Method...</span>
                                                                        <span class="caret"></span>
                                                                        <span class="sr-only">Toggle Dropdown</span>
                                                                    </button>
                                                                    <input type="hidden" name="StudentGoalBenchmarkMethod@(benchmark.goalBenchmarkID)" class="StudentGoalBenchmarkMethod" data-bind="bs-drp-sel-value" value="@(benchmark.Method)">
                                                                    <ul class="dropdown-menu" role="menu" style="font-size:16px;">
                                                                        <li data-value="1"><a href="#">Written Observation</a></li>
                                                                        <li data-value="2"><a href="#">Written Performance</a></li>
                                                                        <li data-value="3"><a href="#">Oral Performance</a></li>
                                                                        <li data-value="4"><a href="#">Criterion-Referenced Test</a></li>
                                                                        <li data-value="5"><a href="#">Time Sample</a></li>
                                                                        <li data-value="6"><a href="#">Demonstration/Performance</a></li>
                                                                        <li data-value="7"><a href="#">Other</a></li>
                                                                    </ul>
                                                                </div>
                                                                <input type="text" value="@(benchmark.ObjectiveBenchmark.ToString())" name="StudentGoalBenchmarkTitle@(benchmark.goalBenchmarkID)" class="StudentGoalBenchmarkTitle form-control" placeholder="Enter a new student benchmark" />
                                                                <span class="input-group-btn">
                                                                    <button type="button" class="btn btn-default btn-number transition-activity" style="height:49px; border-radius: 0;">
                                                                        <span class="glyphicon @(benchmark.TransitionActivity ? "glyphicon-check" : "glyphicon-unchecked")"></span>
                                                                    </button>
                                                                    <input type="hidden" name="StudentGoalBenchmarkHasTransition@(benchmark.goalBenchmarkID)" value="@(benchmark.TransitionActivity.ToString())" />
                                                                </span>
                                                                <span class="input-group-btn">
                                                                    <button type="button" class="btn btn-default deleteBenchmark" style="height:49px; border-radius: 0;">
                                                                        <i class="glyphicon glyphicon-trash"></i>
                                                                    </button>
                                                                </span>
                                                            </div>
                                                        </div>
                                                        <div class="slideReportProgress" style="display: none;">
                                                            <table class="table table-bordered table-bordered table-responsive">
                                                                <thead class="thead-inverse" style="background-color: #ededed;">
                                                                    <tr>
                                                                        <th class="text-center standard-font-size" colspan="4">Reports of Progress</th>
                                                                    </tr>
                                                                    <tr>
                                                                        <th>
                                                                            <div class="pull-left col-md-offset-2" style="margin-top: 5px;">1<sup>st</sup></div>
                                                                            <div class="col-md-9 date">
                                                                                <input type="date" class="form-control" name="reportOfProgressQuarter1@(benchmark.goalBenchmarkID)" style="height: 30px; padding: 0 0 0 10px; line-height: normal;" pattern="YYYY-MM-DD" value="@(benchmark.ProgressDate_Quarter1.ToString("yyyy-MM-dd"))" />
                                                                            </div>
                                                                        </th>
                                                                        <th>
                                                                            <div class="pull-left col-md-offset-2" style="margin-top: 5px;">2<sup>nd</sup></div>
                                                                            <div class="col-md-9 date">
                                                                                <input type="date" class="form-control" name="reportOfProgressQuarter2@(benchmark.goalBenchmarkID)" style="height: 30px; padding: 0 0 0 10px; line-height: normal;" pattern="YYYY-MM-DD" value="@(benchmark.ProgressDate_Quarter2.ToString("yyyy-MM-dd"))" />
                                                                            </div>
                                                                        </th>
                                                                        <th>
                                                                            <div class="pull-left col-md-offset-2 standard-font-size" style="margin-top: 5px;">3<sup>rd</sup></div>
                                                                            <div class="col-md-9 date">
                                                                                <input type="date" class="form-control" name="reportOfProgressQuarter3@(benchmark.goalBenchmarkID)" style="height: 30px; padding: 0 0 0 10px; line-height: normal;" pattern="YYYY-MM-DD" value="@(benchmark.ProgressDate_Quarter3.ToString("yyyy-MM-dd"))" />
                                                                            </div>
                                                                        </th>
                                                                        <th>
                                                                            <div class="pull-left col-md-offset-2" style="margin-top: 5px;">4<sup>th</sup></div>
                                                                            <div class="col-md-9 date">
                                                                                <input type="date" class="form-control" name="reportOfProgressQuarter4@(benchmark.goalBenchmarkID)" style="height: 30px; padding: 0 0 0 10px; line-height: normal;" pattern="YYYY-MM-DD" value="@(benchmark.ProgressDate_Quarter4.ToString("yyyy-MM-dd"))" />
                                                                            </div>
                                                                        </th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group input-append">
                                                                                <select class="form-control objective" name="ReportsOfProgressSelect1@(benchmark.goalBenchmarkID)">
                                                                                    <option value="1" @(benchmark.Progress_Quarter1 == "1" ? "selected='selected'" : String.Empty )>Not applicable during this grading period</option>
                                                                                    <option value="2" @(benchmark.Progress_Quarter1 == "2" ? "selected='selected'" : String.Empty )>No progress made</option>
                                                                                    <option value="3" @(benchmark.Progress_Quarter1 == "3" ? "selected='selected'" : String.Empty )>Little progress made</option>
                                                                                    <option value="4" @(benchmark.Progress_Quarter1 == "4" ? "selected='selected'" : String.Empty )>Progress made; Objective not yet met</option>
                                                                                    <option value="5" @(benchmark.Progress_Quarter1 == "5" ? "selected='selected'" : String.Empty )>Objective met</option>
                                                                                </select>
                                                                                <span class="input-group-addon add-on addComment" data-value="reportOfProgressShortTermComments1@(benchmark.goalBenchmarkID)"><span class="glyphicon glyphicon-edit"></span></span>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="input-group input-append">
                                                                                <select class="form-control objective" name="ReportsOfProgressSelect2@(benchmark.goalBenchmarkID)">
                                                                                    <option value="1" @(benchmark.Progress_Quarter2 == "1" ? "selected='selected'" : String.Empty )>Not applicable during this grading period</option>
                                                                                    <option value="2" @(benchmark.Progress_Quarter2 == "2" ? "selected='selected'" : String.Empty )>No progress made</option>
                                                                                    <option value="3" @(benchmark.Progress_Quarter2 == "3" ? "selected='selected'" : String.Empty )>Little progress made</option>
                                                                                    <option value="4" @(benchmark.Progress_Quarter2 == "4" ? "selected='selected'" : String.Empty )>Progress made; Objective not yet met</option>
                                                                                    <option value="5" @(benchmark.Progress_Quarter2 == "5" ? "selected='selected'" : String.Empty )>Objective met</option>
                                                                                </select>
                                                                                <span class="input-group-addon add-on addComment" data-value="reportOfProgressShortTermComments2@(benchmark.goalBenchmarkID)"><span class="glyphicon glyphicon-edit"></span></span>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="input-group input-append">
                                                                                <select class="form-control objective" name="ReportsOfProgressSelect3@(benchmark.goalBenchmarkID)">
                                                                                    <option value="1" @(benchmark.Progress_Quarter3 == "1" ? "selected='selected'" : String.Empty )>Not applicable during this grading period</option>
                                                                                    <option value="2" @(benchmark.Progress_Quarter3 == "2" ? "selected='selected'" : String.Empty )>No progress made</option>
                                                                                    <option value="3" @(benchmark.Progress_Quarter3 == "3" ? "selected='selected'" : String.Empty )>Little progress made</option>
                                                                                    <option value="4" @(benchmark.Progress_Quarter3 == "4" ? "selected='selected'" : String.Empty )>Progress made; Objective not yet met</option>
                                                                                    <option value="5" @(benchmark.Progress_Quarter3 == "5" ? "selected='selected'" : String.Empty )>Objective met</option>
                                                                                </select>
                                                                                <span class="input-group-addon add-on addComment" data-value="reportOfProgressShortTermComments3@(benchmark.goalBenchmarkID)"><span class="glyphicon glyphicon-edit"></span></span>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="input-group input-append">
                                                                                <select class="form-control objective" name="ReportsOfProgressSelect4@(benchmark.goalBenchmarkID)">
                                                                                    <option value="1" @(benchmark.Progress_Quarter4 == "1" ? "selected='selected'" : String.Empty )>Not applicable during this grading period</option>
                                                                                    <option value="2" @(benchmark.Progress_Quarter4 == "2" ? "selected='selected'" : String.Empty )>No progress made</option>
                                                                                    <option value="3" @(benchmark.Progress_Quarter4 == "3" ? "selected='selected'" : String.Empty )>Little progress made</option>
                                                                                    <option value="4" @(benchmark.Progress_Quarter4 == "4" ? "selected='selected'" : String.Empty )>Progress made; Objective not yet met</option>
                                                                                    <option value="5" @(benchmark.Progress_Quarter4 == "5" ? "selected='selected'" : String.Empty )>Objective met</option>
                                                                                </select>
                                                                                <span class="input-group-addon add-on addComment" data-value="reportOfProgressShortTermComments4@(benchmark.goalBenchmarkID)"><span class="glyphicon glyphicon-edit"></span></span>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="hidden">
                                                                        <td colspan="4">
                                                                            <label for="shortTermComments" data-toggle="tooltip" data-placement="top" title="Enter a about the student's performance while attempt to reach this goal">Comments</label>
                                                                            <div class="form-group shortTermComments">
                                                                                <textarea name="reportOfProgressShortTermComments1@(benchmark.goalBenchmarkID)" placeholder="Enter your comment about the 1st quarter reporting period" rows="4" style="width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;" class="hidden">@(benchmark.ProgressDescription_Quarter1)</textarea>
                                                                                <textarea name="reportOfProgressShortTermComments2@(benchmark.goalBenchmarkID)" placeholder="Enter your comment about the 2nd quarter reporting period" rows="4" style="width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;" class="hidden">@(benchmark.ProgressDescription_Quarter2)</textarea>
                                                                                <textarea name="reportOfProgressShortTermComments3@(benchmark.goalBenchmarkID)" placeholder="Enter your comment about the 3rd quarter reporting period" rows="4" style="width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;" class="hidden">@(benchmark.ProgressDescription_Quarter3)</textarea>
                                                                                <textarea name="reportOfProgressShortTermComments4@(benchmark.goalBenchmarkID)" placeholder="Enter your comment about the 4th quarter reporting period" rows="4" style="width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;" class="hidden">@(benchmark.ProgressDescription_Quarter4)</textarea>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                }

                                            </div>
                                            <div class="col-md-12" style="text-align:center; margin-top: 15px;">
                                                <div class="form-group">
                                                    <button type="reset" class="formbtn btn btn-default btn-lg" data-toggle="tooltip" data-placement="bottom" title="Reset form to initial values."><i class="glyphicon glyphicon-repeat"></i>&nbsp;Reset</button>
                                                    <button type="button" class="SaveForm formbtn btn btn-primary btn-lg"><i class="glyphicon glyphicon-floppy-disk"></i>&nbsp;Save</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    }

                </div>

            }
        }

    </div>
    <div class="ajax-loader" style="visibility: hidden;">
        <img src="/Content/Images/loading-icon.gif" class="img-responsive" alt="loading content">
        <strong class="success"><i class="glyphicon glyphicon-ok" />&nbsp;&nbsp;You successfully saved the data!</strong>
        <strong class="failure"><i class="glyphicon glyphicon-remove" />&nbsp;&nbsp;Unable to save the data. Please try again.</strong>
    </div>
</div>
<div class="modal-footer" style="border-top: 0;">
    <button type="button" class="formbtn btn btn-secondary btn-lg" data-dismiss="modal"><i class="glyphicon glyphicon-remove-circle"></i>&nbsp;Close</button>
</div>


<script>
    $(document).ready(function () {

        $(".dropdown-menu").each(function (index) {
            var menuValue = $(this).closest('.bs-dropdown-to-select-group').find('[data-bind="bs-drp-sel-value"]').val();
            if (menuValue > 0) {
                var menuText = $(this).find('[data-value="' + menuValue + '"]').find('a').get(0).innerText;
                $(this).closest('.bs-dropdown-to-select-group').find('[data-bind="bs-drp-sel-label"]')[0].innerHTML = menuText;
            }
        });

        $(".studentGoalType").click(function () {
            alert("Handler for .click() called.");
        });

        $(".chosen-select").chosen({ width: "100%" });
    });

    $('#newgoal').on('click', function () {
        $.each($("div.collapse"), function (index) {
            $(this).collapse('hide');
        });

        var goalCount = $('.StudentGoal').not("#defaultgoal").length;
        var benchmarkCount = $('.StudentGoalBenchmark').not("#defaultObjective").length;
        var cloneGoal = $('#defaultGoal').clone().removeClass('hidden').removeAttr('id');

        cloneGoal.children().children().prop("id", "accordion" + goalCount);
        cloneGoal.find("input[name='StudentGoalId0']").attr("name", "StudentGoalId1" + goalCount);
        cloneGoal.find("input[name='hasService0']").attr("name", "hasService" + goalCount);
        cloneGoal.find("input[name='StudentGoalSelectedModule0']").attr("name", "StudentGoalSelectedModule" + goalCount);
        cloneGoal.find("input[name='StudentGoalTitle0']").attr("name", "StudentGoalTitle" + goalCount);
        cloneGoal.find("textarea[name='StudentGoalAnnualGoal0']").attr("name", "StudentGoalAnnualGoal" + goalCount);
        cloneGoal.find("input[name='StudentGoalBaseline0']").attr("name", "StudentGoalBaseline" + goalCount);
        cloneGoal.find("input[name='StudentGoalStateStandards0']").attr("name", "StudentGoalStateStandards" + goalCount);

        cloneGoal.find("input[name='reportOfProgressQuarter10']").attr("name", "reportOfProgressQuarter1" + goalCount);
        cloneGoal.find("input[name='reportOfProgressQuarter20']").attr("name", "reportOfProgressQuarter2" + goalCount);
        cloneGoal.find("input[name='reportOfProgressQuarter30']").attr("name", "reportOfProgressQuarter3" + goalCount);
        cloneGoal.find("input[name='reportOfProgressQuarter40']").attr("name", "reportOfProgressQuarter4" + goalCount);
        cloneGoal.find("input[name='ReportAnnualGoalDate10']").attr("name", "ReportAnnualGoalDate1" + goalCount);
        cloneGoal.find("input[name='ReportAnnualGoalDate20']").attr("name", "ReportAnnualGoalDate2" + goalCount);
        cloneGoal.find("input[name='ReportAnnualGoalDate30']").attr("name", "ReportAnnualGoalDate3" + goalCount);
        cloneGoal.find("input[name='ReportAnnualGoalDate40']").attr("name", "ReportAnnualGoalDate4" + goalCount);
        cloneGoal.find("select[name='ReportAnnualGoal10']").attr("name", "ReportAnnualGoal1" + goalCount);
        cloneGoal.find("select[name='ReportAnnualGoal20']").attr("name", "ReportAnnualGoal2" + goalCount);
        cloneGoal.find("select[name='ReportAnnualGoal30']").attr("name", "ReportAnnualGoal3" + goalCount);
        cloneGoal.find("select[name='ReportAnnualGoal40']").attr("name", "ReportAnnualGoal4" + goalCount);
        cloneGoal.find("span[data-value='reportOfAnnualGoalComments10']").attr("data-value", "reportOfAnnualGoalComments1" + goalCount);
        cloneGoal.find("span[data-value='reportOfAnnualGoalComments20']").attr("data-value", "reportOfAnnualGoalComments2" + goalCount);
        cloneGoal.find("span[data-value='reportOfAnnualGoalComments30']").attr("data-value", "reportOfAnnualGoalComments3" + goalCount);
        cloneGoal.find("span[data-value='reportOfAnnualGoalComments40']").attr("data-value", "reportOfAnnualGoalComments4" + goalCount);
        cloneGoal.find("textarea[name='reportOfAnnualGoalComments10']").attr("name", "reportOfAnnualGoalComments1" + goalCount);
        cloneGoal.find("textarea[name='reportOfAnnualGoalComments20']").attr("name", "reportOfAnnualGoalComments2" + goalCount);
        cloneGoal.find("textarea[name='reportOfAnnualGoalComments30']").attr("name", "reportOfAnnualGoalComments3" + goalCount);
        cloneGoal.find("textarea[name='reportOfAnnualGoalComments40']").attr("name", "reportOfAnnualGoalComments4" + goalCount);

        var evals = cloneGoal.find("select[name='StudentGoalBenchmarkMethods0']").attr("id", "StudentGoalBenchmarkMethods" + goalCount);
        evals.chosen({ width: "100%" });

        // reset the id values of the panel and accordian elements
        var goalAccordion = cloneGoal.find('[data-parent="#accordion0"]').attr('data-parent', '#accordion' + goalCount);
        goalAccordion.attr('href', '#collapse' + goalCount);
        var panelCollapse = cloneGoal.find("#collapse0").prop("id", "collapse" + goalCount);

        // remove uncessary elements because of id restrictions
        cloneGoal.find('#defaultObjective').removeClass('hidden').removeAttr('id');
        $('#StudentGoals').append(cloneGoal);

        panelCollapse.collapse('show');

        initGoal();
    });

    function initGoal() {
        $('.StudentGoal').not('#defaultGoal').not('.bound').addClass('bound').each(function () {

            //* Event */
            /* Closes all the other panel groups except the one you clicked on */
            $(this).find(".panel-title a").on("click", function () {
                $(".panel-collapse").each(function () {
                    $(this).collapse('hide');
                });
            });

            //* Binding */
            /* fires when changing the goal title. It updates the accordian label too. */
            $(this).find(".StudentGoalTitle").on("keyup blur", function (e) {
                var title = $(this).val();

                if (title != "") {
                    $(this).parentsUntil('.StudentGoal ').find('.studentGoalLabel').text(title);
                }
            });

            //* Binding */
            /* when the teacher clicks the hand icon for service */
            $(this).find(".StudentGoalNeedsService").on('click', function (e) {
                e.stopPropagation();

                if ($(this).css("opacity") == 1) {
                    $(this).css('opacity', '0.2');
                    $(this).next().prop("checked", false);
                    $(this).next().val("false");
                }
                else {
                    $(this).css('opacity', '1');
                    $(this).next().prop("checked", "checked");
                    $(this).next().val("true");
                }
            });

            //* Binding */
            /* when the teacher clicks the trash can to delete a goal. */
            $(this).find('.deleteGoal').on('click', function (e) {
                if (confirm("Would you like to delete this goal?")) {
                    var studentGoal = $(this).closest('.StudentGoal');
                    var studentGoalId = studentGoal.find("input[name='StudentGoalId']").prop("value");

                    // this is a new goal. just remove it from the ui.
                    if (studentGoalId == 0) {
                        var previousGoal = studentGoal.prev(".StudentGoal:visible").find(".panel-collapse");
                        studentGoal.remove();

                        return previousGoal.collapse('show');
                    }

                    $.ajax({
                        type: 'POST',
                        url: '/ModuleSection/DeleteStudentGoal',
                        data: { studentGoalId: studentGoalId },
                        dataType: "json",
                        success: function (data) {
                            if (data.Result == "success") {
                                var previousGoal = studentGoal.prev(".StudentGoal:visible").find(".panel-collapse");
                                studentGoal.remove();

                                $(window).trigger("deleting.bs.modal");

                                return previousGoal.collapse('show');
                            }
                            else {
                                if ($("#alertMessage").css('display') && $("#alertMessage").css('display') === 'none') {
                                    $("#alertMessage .moreinfo").html(data.Message);
                                    $("#alertMessage").fadeTo(3000, 500).slideUp(500, function () {
                                        $("#alertMessage").slideUp(500);
                                    });
                                }
                            }
                        },
                        error: function (data) {
                            console.log("Unable to delete the student goal.");
                        }
                    });
                }
            });

            //get baseline goal text
            var goalBaselineElement = $(this).find(".studentGoalBaseline");

            //check if default selected type has a baseline goal
            _checkGoal(1, goalBaselineElement);

            //* Binding */
            /* When the user selects an option from the drop down. */
            $(this).find('.bs-dropdown-to-select-group .dropdown-menu li').on('click', function (event) {
                var $target = $(event.currentTarget);
                var selectedVal = $target.attr('data-value');
                $target.closest('.bs-dropdown-to-select-group')
                    .find('[data-bind="bs-drp-sel-value"]').val(selectedVal)
                    .end()
                    .children('.dropdown-toggle').dropdown('toggle');
                $target.closest('.bs-dropdown-to-select-group')
                    .find('[data-bind="bs-drp-sel-label"]').text($target[0].innerText);

                _checkGoal(selectedVal, goalBaselineElement);

                return false;
            });

            //* Binding */
            /* when the teacher clicks + icon to see Reports of Progress under each benchmark */
            $(this).find('.toggleReportsOfProgress').on('click', function (event) {
                $(this).toggleClass('active');
                $(this).closest('.StudentGoal ').find('.slideReportProgress').slideToggle("slow");
            });

            //* Binding */
            /* when the teacher saves the form */
            $(this).find(".SaveForm").on('click', function () {
                $('.ajax-loader').css("visibility", "visible");
                $(".ajax-loader img").css("visibility", "visible");

                var studentGoal = $(this).closest('.StudentGoal');
                var studentGoalId = studentGoal.find("input[name='StudentGoalId']");

                var data = $(this).closest('.goalForm').serialize();
                $.post('/ModuleSection/EditStudentGoals', data)
                .done(function (results) {
                    $(".ajax-loader img").css("visibility", "hidden");
                    $(".ajax-loader .success").show().fadeOut(1000, "linear", function () {
                        $('.ajax-loader').css("visibility", "hidden");
                    });

                    studentGoalId.val(results.GoalId);

                    $(window).trigger("saving.bs.modal");
                })
                .fail(function (error) {
                    $(".ajax-loader img").css("visibility", "hidden");
                    $(".ajax-loader .failure").show().fadeOut(1000, "linear", function () {
                        $('.ajax-loader').css("visibility", "hidden");
                        $("#alertMessage .moreinfo").html('There was an error while trying to save the data.');
                        $("#alertMessage").fadeTo(3000, 500).slideUp(500, function () {
                            $("#alertMessage").slideUp(500);
                        });
                    });
                });
            });

            //* Binding */
            /* When the user clicks on the minus to view more info for the Progress Towards Annual Goal */
            $(this).find('.ProgressAnnualGoal').on('click', function () {
                $(this).toggleClass('glyphicon-minus glyphicon-plus');
                $(this).closest('table').find('thead tr.PTAGDisplay:first').toggleClass('hidden');
                $(this).closest('table').find('tbody.PTAGDisplay:first').toggleClass('hidden');
            });

            //* Binding */
            /* when the teacher clicks the Add Short Term Benchmark(s) button */
            $(this).find('.newObjectiveBenchmark').on('click', function (event) {
                var benchmarkCount = $('.StudentGoalBenchmark').not("#defaultObjective").length;
                var cloneBenchmark = $('#defaultObjective').clone().removeClass('hidden').removeAttr('id').removeClass("bound");
                cloneBenchmark.find("input[name='StudentGoalBenchmarkId0']").attr("name", "StudentGoalBenchmarkId" + benchmarkCount);
                cloneBenchmark.find("input[name='StudentGoalBenchmarkMethod0']").attr("name", "StudentGoalBenchmarkMethod" + benchmarkCount);
                cloneBenchmark.find("input[name='StudentGoalBenchmarkTitle0']").attr("name", "StudentGoalBenchmarkTitle" + benchmarkCount);
                cloneBenchmark.find("input[name='StudentGoalBenchmarkHasTransition0']").attr("name", "StudentGoalBenchmarkHasTransition" + benchmarkCount);
                cloneBenchmark.find("input[name='reportOfProgressQuarter10']").attr("name", "reportOfProgressQuarter1" + benchmarkCount);
                cloneBenchmark.find("input[name='reportOfProgressQuarter20']").attr("name", "reportOfProgressQuarter2" + benchmarkCount);
                cloneBenchmark.find("input[name='reportOfProgressQuarter30']").attr("name", "reportOfProgressQuarter3" + benchmarkCount);
                cloneBenchmark.find("input[name='reportOfProgressQuarter40']").attr("name", "reportOfProgressQuarter4" + benchmarkCount);
                cloneBenchmark.find("select[name='ReportsOfProgressSelect10']").attr("name", "ReportsOfProgressSelect1" + benchmarkCount);
                cloneBenchmark.find("select[name='ReportsOfProgressSelect20']").attr("name", "ReportsOfProgressSelect2" + benchmarkCount);
                cloneBenchmark.find("select[name='ReportsOfProgressSelect30']").attr("name", "ReportsOfProgressSelect3" + benchmarkCount);
                cloneBenchmark.find("select[name='ReportsOfProgressSelect40']").attr("name", "ReportsOfProgressSelect4" + benchmarkCount);
                cloneBenchmark.find("textarea[name='reportOfProgressShortTermComments10']").attr("name", "reportOfProgressShortTermComments1" + benchmarkCount);
                cloneBenchmark.find("textarea[name='reportOfProgressShortTermComments20']").attr("name", "reportOfProgressShortTermComments2" + benchmarkCount);
                cloneBenchmark.find("textarea[name='reportOfProgressShortTermComments30']").attr("name", "reportOfProgressShortTermComments3" + benchmarkCount);
                cloneBenchmark.find("textarea[name='reportOfProgressShortTermComments40']").attr("name", "reportOfProgressShortTermComments4" + benchmarkCount);
                cloneBenchmark.find("span[data-value='reportOfProgressShortTermComments10']").attr("data-value", "reportOfProgressShortTermComments1" + benchmarkCount);
                cloneBenchmark.find("span[data-value='reportOfProgressShortTermComments20']").attr("data-value", "reportOfProgressShortTermComments2" + benchmarkCount);
                cloneBenchmark.find("span[data-value='reportOfProgressShortTermComments30']").attr("data-value", "reportOfProgressShortTermComments3" + benchmarkCount);
                cloneBenchmark.find("span[data-value='reportOfProgressShortTermComments40']").attr("data-value", "reportOfProgressShortTermComments4" + benchmarkCount);
                $(this).parent().find('.StudentGoalBenchmarks').append(cloneBenchmark);

                // if toggleReportsOfProgress is active then show the Reports of Progress
                if ($(this).closest(".StudentGoal").find(".toggleReportsOfProgress").hasClass('active')) {
                    cloneBenchmark.find('.slideReportProgress').show();
                }

                initObjective();
            });

            //* Binding */
            /* when the teacher clicks the comment icon */
            $(this).find('span.addComment').not('.bound').addClass('bound').on('click', function (event) {
                var textareaName = $(this).attr("data-value");
                var textarea = $("textarea[name='" + textareaName + "']");
                var textAreaLabel = textarea.parent().parent().find("label:first");
                var textareaIsHidden = textarea.hasClass("hidden");

                // close all the comment boxes
                $(this).closest("tr").next().find("div.shortTermComments textarea").each(function (index) {
                    $(this).addClass("hidden");
                });

                // remove all the highlights
                $(this).closest("tr").find("span.addComment").each(function (index) {
                    $(this).prev().removeClass("commentsHighlighted");
                });

                if (textareaIsHidden) {
                    textarea.removeClass("hidden");
                    textarea.closest("tr").removeClass("hidden");
                    $(this).prev().addClass("commentsHighlighted");
                    textAreaLabel[0].innerText = textarea.attr("placeholder").substring(28, textarea.attr("placeholder").length);
                }
                else {
                    textarea.addClass("hidden");
                    textarea.closest("tr").addClass("hidden");
                }
            });
        });




        initObjective();
    }

    function initObjective() {
        $('.StudentGoalBenchmark').not('#defaultObjective').not('.bound').addClass('bound').each(function () {

            //* Binding */
            /* fires when the drop down is selected on each of the Bechnmark modules */
            $(this).find('.bs-dropdown-to-select-group .dropdown-menu li').on('click', function (event) {
                var $target = $(event.currentTarget);
                $target.closest('.bs-dropdown-to-select-group')
                    .find('[data-bind="bs-drp-sel-value"]').val($target.attr('data-value'))
                    .end()
                    .children('.dropdown-toggle').dropdown('toggle');
                $target.closest('.bs-dropdown-to-select-group')
                    .find('[data-bind="bs-drp-sel-label"]').text($target[0].innerText);
                return false;
            });

            //* Binding */
            /* fires when the user clicks the trash icon on a short term benchmark */
            $(this).find('.deleteBenchmark').on('click', function (event) {
                if (confirm("Would you like to delete this Benchmark?")) {
                    var studentBenchmark = $(this).parents('.StudentGoalBenchmark')
                    var studentBenchmarkId = studentBenchmark.find('input:hidden:first').prop("value");

                    if (studentBenchmarkId == 0) {
                        return studentBenchmark.remove();
                    }

                    $.ajax({
                        type: 'POST',
                        url: '/ModuleSection/DeleteStudentBenchmark',
                        data: { studentBenchmarkId: studentBenchmarkId },
                        dataType: "json",
                        success: function (data) {
                            if (data.Result == "success") {
                                studentBenchmark.remove();
                            }
                            else {
                                if ($("#alertMessage").css('display') && $("#alertMessage").css('display') === 'none') {
                                    $("#alertMessage .moreinfo").html(data.Message);
                                    $("#alertMessage").fadeTo(3000, 500).slideUp(500, function () {
                                        $("#alertMessage").slideUp(500);
                                    });
                                }
                            }
                        },
                        error: function (data) {
                            console.log("Unable to delete the student goal.");
                        }
                    });
                }
            });

            //* Binding */
            /* fires when the user clicks the check box */
            $(this).find('.transition-activity').on('click', function (event) {
                if ($(this).children('span').hasClass('glyphicon-unchecked')) {
                    $(this).children('span').removeClass('glyphicon-unchecked');
                    $(this).children('span').addClass('glyphicon-check');
                    $(this).next().val("true");
                } else {
                    $(this).children('span').removeClass('glyphicon-check');
                    $(this).children('span').addClass('glyphicon-unchecked');
                    $(this).next().val("false");
                }
            });

            //* Binding */
            /* when the teacher clicks the comment icon */
            $(this).find('span.addComment').not('.bound').addClass('bound').on('click', function (event) {
                var textareaName = $(this).attr("data-value");
                var textarea = $("textarea[name='" + textareaName + "']");
                var textAreaLabel = textarea.parent().parent().find("label:first");
                var textareaIsHidden = textarea.hasClass("hidden");

                // close all the comment boxes
                $(this).closest("tr").next().find("div.shortTermComments textarea").each(function (index) {
                    $(this).addClass("hidden");
                });

                // remove all the highlights
                $(this).closest("tr").find("span.addComment").each(function (index) {
                    $(this).prev().removeClass("commentsHighlighted");
                });

                if (textareaIsHidden) {
                    textarea.removeClass("hidden");
                    textarea.closest("tr").removeClass("hidden");
                    $(this).prev().addClass("commentsHighlighted");
                    textAreaLabel[0].innerText = textarea.attr("placeholder").substring(28, textarea.attr("placeholder").length);
                }
                else {
                    textarea.addClass("hidden");
                    textarea.closest("tr").addClass("hidden");
                }
            });
        });
    }

    function _checkGoal(goalTypeId, goalBaselineElement) {
        var iepID = $("#IEPid").val();

        $.ajax({
            type: 'POST',
            url: '/ModuleSection/GetGoalBaseline',
            data: { goalTypeId: goalTypeId, iepID: iepID },
            dataType: "json",
            success: function (data) {
                if (data.Result) {
                    goalBaselineElement.val(data.Message);
                }

            },
            error: function (data) {
                console.log("Error getting baseline goal text.");
            }
        });
    }

    initGoal();

    /* Binding */
    /* tooltips */
    $('[data-toggle="tooltip"]').tooltip({
        trigger: 'manual'
    });

    ///* Event */
    ///* When a user clicks on the question mark icon we turn on tooltips */
    $('.tooltip-help').on('click', function () {
        $('[data-toggle="tooltip"]').tooltip('toggle');
    });
</script>